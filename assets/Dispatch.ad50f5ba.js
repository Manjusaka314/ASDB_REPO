import{E as t}from"./index.d91a3b3a.js";import{_ as e}from"./Category.6e0b4359.js";import{p as l,e as a,o as r,c as s,a as i,t as n,F as o,r as c,d,f as p,g as _,h as u}from"./index.d550c4e9.js";import"./@pixi.ba7a7c6f.js";const h={components:{Category:e},inject:["socket"],data:()=>({dispatch_tasks:void 0,aurorian_calc_table:[]}),beforeMount(){for(let t=1;t<=5;t++)this.aurorian_calc_table.push({prof:2001,element:1,force:0,grade:0})},mounted(){const t=localStorage.getItem("game_lang");let e=this;this.socket.emit("get_all_dispatch_task",[t],(function(t){e.dispatch_tasks=t}))},methods:{format(t,e){if(null!=t){if(t=(t=t.replace(/<color=#(.*?)>(.*?)<\/color>/g,(function(t,e,l){return'<span style="color: #'+e+';">'+l+"</span>"}))).replace(/<color=(.*?)>(.*?)<\/color>/g,(function(t,e,l){return'<span style="color: #'+e+';">'+l+"</span>"})),null!=e)for(let l=1;l<=e.length;l++)t=t.replace("{"+l+"}",'<a style="color:yellow" href="Aurorian/'+e[l-1].id+'">'+e[l-1].name+"</a>");return t}},calc_ex_reward(t,e){const l=this.dispatch_tasks.star_cfg.find((e=>e.star==t.star));let a=0;for(let s of this.aurorian_calc_table)t.element==s.element&&(a+=l.ref_score),t.prof==s.prof&&(a+=l.ref_score),a+=l.grade_score[s.grade];let r=a/t.score;return r>=1&&(r=1),Math.floor(e.count*r)},dispatchCalc(){$("#dispatch_calc").hasClass("showStatus")?($("#dispatch_calc").toggleClass("showStatus"),$("#dispatch_calc").animate({right:"-100%"})):($("#dispatch_calc").toggleClass("showStatus"),$("#dispatch_calc").animate({right:"0"}))},dispatchCalcPC(){$("#dispatch_calc_pc").hasClass("showStatus")?($("#dispatch_calc_pc").toggleClass("showStatus"),$("#dispatch_calc_pc").animate({bottom:"-285"})):($("#dispatch_calc_pc").toggleClass("showStatus"),$("#dispatch_calc_pc").animate({bottom:"0"}))},fontSizeCalc(e){var l=t.Buffer.from(e).length;return l>60?48/l+"em":"0.8em"}}},g=_("data-v-f7b0495c");l("data-v-f7b0495c");const x={class:"nomobile"},m={class:"nodesktop",style:{"padding-top":"56px"}},b={id:"toc"},y=i("hr",null,null,-1),f=i("hr",null,null,-1),k=i("hr",null,null,-1),w=i("hr",null,null,-1),C=i("hr",null,null,-1),v={colspan:"12",style:{border:"1px solid"}},z=i("br",null,null,-1),S={style:{"text-align":"center"}},M={colspan:"4",style:{border:"1px solid"}},j={colspan:"4",style:{border:"1px solid"}},P={colspan:"4",style:{border:"1px solid"}},T={class:"nodesktop",style:{"text-align":"center",width:"100%",background:"#222",position:"fixed",top:"60px",left:"0","z-index":"99"}},H=i("br",null,null,-1),I={id:"dispatch_calc",style:{position:"fixed",top:"116px",right:"-100%",width:"100%",padding:"0 2px",background:"#222","box-sizing":"border-box"}},L={style:{width:"100%"}},A={style:{width:"100%"}},B={style:{width:"100%"}},E=i("hr",null,null,-1),F={key:1,style:{"text-align":"-webkit-center"}},q={key:0},D=p("【 "),G={key:0},J={key:1},K=p(" 】"),N={colspan:"7",style:{width:"800px",border:"solid 1px","text-align":"left",padding:"0 5px"}},O={style:{"vertical-align":"middle"}},Q={colspan:"7",style:{border:"solid 1px","text-align":"left",padding:"0 5px"}},R={class:"nomobile"},U={colspan:"7",style:{border:"solid 1px","text-align":"left",padding:"0 5px"}},V={key:0,colspan:"5",style:{border:"solid 1px"}},W={key:1,colspan:"4",style:{border:"solid 1px"}},X={colspan:"2",class:"nomobile",style:{border:"solid 1px"}},Y=i("hr",null,null,-1),Z=i("hr",null,null,-1),tt=i("hr",null,null,-1),et=i("hr",null,null,-1),lt={key:0,style:{border:"solid 1px",width:"20%","vertical-align":"bottom"}},at=i("hr",null,null,-1),rt=i("hr",null,null,-1),st={key:0},it={key:1},nt={rowspan:"2",class:"nomobile",style:{border:"solid 1px","vertical-align":"middle"}},ot={rowspan:"2",class:"nomobile",style:{border:"solid 1px","vertical-align":"middle"}},ct={key:1},dt={key:0,colspan:"5",style:{border:"solid 1px","text-align":"left",padding:"0 5px"}},pt={class:"nodesktop"},_t={key:0,rowspan:"2",colspan:"3",style:{border:"solid 1px"}},ut={key:1,rowspan:"2",colspan:"2",style:{border:"solid 1px"}},ht={colspan:"2",style:{border:"solid 1px"}},gt={class:"nodesktop"},xt={style:{border:"solid 1px"}},mt={style:{border:"solid 1px"}};a();const bt=g(((t,e,l,a,_,h)=>{const $=u("Category"),bt=u("el-tab-pane"),yt=u("el-tabs");return r(),s(o,null,[i("h1",x,n(t.$t("main_view.dispatch_data")),1),i("h1",m,n(t.$t("main_view.dispatch_data")),1),i("div",b,[i($)]),i("h2",null,n(t.$t("dispatch.rewards")),1),y,_.dispatch_tasks?(r(),s(yt,{key:0,type:"card",class:"dispatch_head",style:{"text-align":"-webkit-center"},onTabClick:t.handleClick},{default:g((()=>[(r(!0),s(o,null,c(_.dispatch_tasks.star_reward,(t=>(r(),s(bt,{key:t.star,label:"★"+t.star},{default:g((()=>[(r(!0),s(o,null,c(t.rewards,(t=>(r(),s("table",{key:t,style:{"text-align":"center","max-width":"800px"}},[(r(!0),s(o,null,c(t.base_rewards,(t=>(r(),s("td",{key:t,style:{border:"solid 1px",width:"200px","vertical-align":"bottom"}},[p(n(t.name)+" ",1),f,i("img",{src:"/item_icon/"+t.icon+"_scale.png"},null,8,["src"]),k,p(" "+n(t.count),1)])))),128)),(r(!0),s(o,null,c(t.extra_rewards,(t=>(r(),s("td",{key:t,style:{border:"solid 1px",width:"200px","vertical-align":"bottom"}},[p(n(t.name)+" ",1),w,i("img",{src:"/item_icon/"+t.icon+"_scale.png"},null,8,["src"]),C,p(" 0 ~ "+n(t.count),1)])))),128))])))),128))])),_:2},1032,["label"])))),128))])),_:1},8,["onTabClick"])):d("",!0),i("table",{id:"dispatch_calc_pc",class:"nomobile",style:{"text-align":"-webkit-center",background:"#222",position:"fixed",bottom:"-285px","margin-left":"auto","margin-right":"auto",left:"0",right:"0",width:"522px"},onMouseenter:e[1]||(e[1]=(...t)=>h.dispatchCalcPC&&h.dispatchCalcPC(...t)),onMouseleave:e[2]||(e[2]=(...t)=>h.dispatchCalcPC&&h.dispatchCalcPC(...t))},[i("th",v,[p(n(t.$t("dispatch.calculator")),1),z,i("span",{style:"font-weight: normal; font-size:"+h.fontSizeCalc(t.$t("dispatch.calculator_tips"))},"※ "+n(t.$t("dispatch.calculator_tips")),5)]),i("tr",S,[i("td",M,n(t.$t("aurorian.prof")),1),i("td",j,n(t.$t("aurorian.element")),1),i("td",P,n(t.$t("aurorian.ascension")),1)]),(r(),s(o,null,c(5,(t=>i("tr",{key:"calc_"+t,style:{"font-size":"12px","white-space":"nowrap"}},[(r(),s(o,null,c([2001,2002,2003,2004],(e=>i("td",{key:"prof_"+e,style:"border: 1px solid; padding: 4px;"+(_.aurorian_calc_table[t-1].prof==e?"background: #fff":"cursor: pointer;"),onClick:l=>_.aurorian_calc_table[t-1].prof=e},[i("img",{src:"/spine_view/prof_"+e+".png",style:"vertical-align: middle; width: 30px;"+(_.aurorian_calc_table[t-1].prof==e?"filter: drop-shadow(0px 0px 5px #000);":"cursor: pointer;")},null,12,["src"])],12,["onClick"]))),64)),(r(),s(o,null,c([1,2,3,4],(e=>i("td",{key:"element_"+e,style:"border: 1px solid; padding: 4px;"+(_.aurorian_calc_table[t-1].element==e?"background: #fff":"cursor: pointer;"),onClick:l=>_.aurorian_calc_table[t-1].element=e},[i("img",{src:"/element_icon/element_"+e+".png",style:"vertical-align: middle; width: 30px;"+(_.aurorian_calc_table[t-1].element==e?"filter: drop-shadow(0px 0px 5px #000);":"cursor: pointer;")},null,12,["src"])],12,["onClick"]))),64)),(r(),s(o,null,c([0,1,2,3],(e=>i("td",{key:"grade_"+e,class:"grade",style:"border: 1px solid; max-width: 40px; max-height: 40px; overflow: hidden; display: inline-block;"+(_.aurorian_calc_table[t-1].grade==e?"background: #fff;":"cursor: pointer;"),onClick:l=>_.aurorian_calc_table[t-1].grade=e},[i("img",{src:"/spine_view/spirit_juexing3_big"+e+".png",style:"width: 60px; margin-left: -10px; margin-top: -5px;"+(_.aurorian_calc_table[t-1].grade==e?"":"cursor: pointer;")},null,12,["src"])],12,["onClick"]))),64))]))),64))],32),i("table",T,[i("th",{style:{border:"1px solid"},onClick:e[3]||(e[3]=(...t)=>h.dispatchCalc&&h.dispatchCalc(...t))},[p(n(t.$t("dispatch.calculator")),1),H,i("span",{style:"font-weight: normal; font-size:"+h.fontSizeCalc(t.$t("dispatch.calculator_tips"))},"※ "+n(t.$t("dispatch.calculator_tips")),5)]),i("tr",I,[i(yt,{class:"dispatch_calc",type:"card"},{default:g((()=>[i(bt,null,{label:g((()=>[p(n(t.$t("aurorian.prof")),1)])),default:g((()=>[i("table",L,[(r(),s(o,null,c(5,(t=>i("tr",{key:"calc_"+t,style:{"font-size":"12px"}},[(r(),s(o,null,c([2001,2002,2003,2004],(e=>i("td",{key:"prof_"+e,style:"border: 1px solid; padding: 10px 4px;"+(_.aurorian_calc_table[t-1].prof==e?"background: #fff":"cursor: pointer;"),onClick:l=>_.aurorian_calc_table[t-1].prof=e},[i("img",{src:"/spine_view/prof_"+e+".png",style:"vertical-align: middle; width: 40px;"+(_.aurorian_calc_table[t-1].prof==e?"filter: drop-shadow(0px 0px 5px #000);":"cursor: pointer;")},null,12,["src"])],12,["onClick"]))),64))]))),64))])])),_:1}),i(bt,null,{label:g((()=>[p(n(t.$t("aurorian.element")),1)])),default:g((()=>[i("table",A,[(r(),s(o,null,c(5,(t=>i("tr",{key:"calc_"+t,style:{"font-size":"12px"}},[(r(),s(o,null,c([1,2,3,4],(e=>i("td",{key:"element_"+e,style:"border: 1px solid; padding: 10px 4px;"+(_.aurorian_calc_table[t-1].element==e?"background: #fff":"cursor: pointer;"),onClick:l=>_.aurorian_calc_table[t-1].element=e},[i("img",{src:"/element_icon/element_"+e+".png",style:"vertical-align: middle; width: 40px;"+(_.aurorian_calc_table[t-1].element==e?"filter: drop-shadow(0px 0px 5px #000);":"cursor: pointer;")},null,12,["src"])],12,["onClick"]))),64))]))),64))])])),_:1}),i(bt,null,{label:g((()=>[p(n(t.$t("aurorian.ascension")),1)])),default:g((()=>[i("table",B,[(r(),s(o,null,c(5,(t=>i("tr",{key:"calc_"+t,style:{"font-size":"12px"}},[(r(),s(o,null,c([0,1,2,3],(e=>i("td",{key:"grade_"+e,class:"grade",style:"border: 1px solid; max-height: 62px; display: inline-block; overflow: hidden; padding: 0; box-sizing: border-box;"+(_.aurorian_calc_table[t-1].grade==e?"background: #fff;":"cursor: pointer;"),onClick:l=>_.aurorian_calc_table[t-1].grade=e},[i("img",{src:"/spine_view/spirit_juexing3_big"+e+".png",style:"width: 85px; margin-top: -4px; "+(_.aurorian_calc_table[t-1].grade==e?"":"cursor: pointer;")},null,12,["src"])],12,["onClick"]))),64))]))),64))])])),_:1})])),_:1})])]),i("h2",null,n(t.$t("dispatch.tasks")),1),E,i("small",null,"※ "+n(t.$t("dispatch.tips")),1),_.dispatch_tasks?(r(),s("div",F,[(r(!0),s(o,null,c(_.dispatch_tasks.tasks,(e=>(r(),s("table",{key:e,style:{"max-width":"800px","text-align":"center"}},[i("caption",null,[i("h3",null,[p(" ★ "+n(e.star)+" "+n(e.name)+" ",1),0!=e.extra_rewards?(r(),s("span",q,[D,2==e.extra_rewards[0].type?(r(),s("span",G,n(t.$t("dispatch.book")),1)):d("",!0),3==e.extra_rewards[0].type?(r(),s("span",J,n(t.$t("dispatch.funiture")),1)):d("",!0),K])):d("",!0)])]),i("th",N,[i("span",O,n(e.name),1),(r(!0),s(o,null,c(e.star,(t=>(r(),s("img",{key:"furn_star_"+t,src:"/comm_icon/dispatch_star.png",style:{width:"32px","margin-left":"-12px","vertical-align":"middle",float:"right"}},null,8,["src"])))),128))]),i("tr",null,[i("td",Q,n(e.desc),1)]),i("tr",R,[i("td",U,n(t.$t("dispatch.task_time_long"))+n(e.time/3600)+" "+n(t.$t("dispatch.hour")),1)]),i("tr",null,[0!=e.extra_rewards?(r(),s("td",V,n(t.$t("dispatch.dispatch_reward_title")),1)):(r(),s("td",W,n(t.$t("dispatch.dispatch_reward_title")),1)),i("td",X,n(t.$t("dispatch.suggest_pet_title")),1)]),_.dispatch_tasks.star_reward[e.star-3]?(r(),s("tr",{key:0,set:t.rewards=_.dispatch_tasks.star_reward[e.star-3].rewards[Math.floor(12*Math.random())]},[(r(!0),s(o,null,c(t.rewards.base_rewards,(t=>(r(),s("td",{key:t,style:{border:"solid 1px",width:"20%","vertical-align":"bottom"}},[p(n(t.name)+" ",1),Y,i("img",{src:"/item_icon/"+t.icon+"_scale.png"},null,8,["src"]),Z,p(" "+n(t.count),1)])))),128)),(r(!0),s(o,null,c(t.rewards.extra_rewards,(t=>(r(),s("td",{key:t,style:{border:"solid 1px",width:"20%","vertical-align":"bottom"}},[p(n(t.name)+" ",1),tt,i("img",{src:"/item_icon/"+t.icon+"_scale.png"},null,8,["src"]),et,p(" "+n(h.calc_ex_reward(e,t))+" / "+n(t.count),1)])))),128)),0!=e.extra_rewards?(r(),s("td",lt,[p(n(e.extra_rewards[0].item_name)+" ",1),at,i("img",{src:"/item_icon/"+e.extra_rewards[0].item_icon+"_scale.png"},null,8,["src"]),rt,2==e.extra_rewards[0].type?(r(),s("span",st,n(t.$t("dispatch.book")),1)):d("",!0),3==e.extra_rewards[0].type?(r(),s("span",it,n(t.$t("dispatch.funiture")),1)):d("",!0)])):d("",!0),i("td",nt,[i("img",{src:"/spine_view/prof_"+e.prof+".png",style:{padding:"5px"}},null,8,["src"])]),i("td",ot,[i("img",{src:"/element_icon/element_"+e.element+".png",style:{padding:"5px"}},null,8,["src"])])],8,["set"])):d("",!0),e.award_desc?(r(),s("tr",ct,[e.extra_rewards?(r(),s("td",dt,[e.extra_rewards[0].pet_list?(r(),s("span",{key:0,innerHTML:h.format(e.award_desc,e.extra_rewards[0].pet_list)},null,8,["innerHTML"])):d("",!0)])):d("",!0)])):d("",!0),i("tr",pt,[0!=e.extra_rewards?(r(),s("td",_t,n(t.$t("dispatch.task_time_long"))+n(e.time/3600)+" "+n(t.$t("dispatch.hour")),1)):(r(),s("td",ut,n(t.$t("dispatch.task_time_long"))+n(e.time/3600)+" "+n(t.$t("dispatch.hour")),1)),i("td",ht,n(t.$t("dispatch.suggest_pet_title")),1)]),i("tr",gt,[i("td",xt,[i("img",{src:"/spine_view/prof_"+e.prof+".png",style:{padding:"5px"}},null,8,["src"])]),i("td",mt,[i("img",{src:"/element_icon/element_"+e.element+".png",style:{padding:"5px"}},null,8,["src"])])])])))),128))])):d("",!0)],64)}));h.render=bt,h.__scopeId="data-v-f7b0495c";export default h;
