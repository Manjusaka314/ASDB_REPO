import{o as t,c as e,a as l,t as a,w as n,F as i,r,b as s,d as o,v as u,e as c,f as m,g as h}from"./index.544bd217.js";import"./@pixi.ba7a7c6f.js";const d={inject:["socket","moment"],data:()=>({in_china:!0,main_caroursel:void 0}),computed:{twitter_name:function(){switch(localStorage.getItem("game_lang")){case"us":return"AlchemyStarsEN";case"kr":return"AlchemyStarsKR";case"jp":return"AlchemyStarsJP";case"tw":return"AlchemyStarsTW"}return""},twitter_lang:function(){switch(localStorage.getItem("lang")){case"cn":return"zh-cn"}return"en"},main_caroursel_2:function(){let t=this;if(this.main_caroursel){let e=function(e){return function(l,a){var n=0,i=0;return null!=l[e]&&(n=t.moment(l[e]).format("X")),null!=a[e]&&(i=t.moment(a[e]).format("X")),n-i}};console.log(this.main_caroursel);let l=this.main_caroursel;return l.sort(e("open")),l.forEach((t=>{if(!t.open)return;const e=new Date(t.open),l=new Date(t.close);t.open=new Date(e-6e4*e.getTimezoneOffset()),t.open<16238916e5&&(t.open=16238916e5),t.close=new Date(l-6e4*l.getTimezoneOffset())})),l}return[]}},mounted(){let t=this;this.socket.emit("get_main_caroursel",[localStorage.getItem("game_lang")],(function(e){t.main_caroursel=e})),this.$loadScript("https://platform.twitter.com/widgets.js").then((()=>{t.in_china=!1,this.$unloadScript("https://platform.twitter.com/widgets.js").then((()=>{}))}))},methods:{calcImgWidth:()=>$(".carousel").width(),calcImgHeight:()=>$(".carousel").width()*(200/512)}},g={class:"carousel"},_={class:"carousel_banner"},w=l("hr",{style:{width:"80%"}},null,-1),f={style:{display:"inline-block"}},p={id:"updateLog",style:{"text-align":"left"}},D=c("UPD 2021/10/08：新增"),P=c("卡池"),U=c("一览页面。"),y=l("li",null,"UPD 2021/10/07：更新典藏皮肤的CG预览功能。",-1),k=c("UPD 2021/9/30：更新部分"),v=c("【热砂攻防战】"),S=c("数据限时内容。"),b=l("li",null,"UPD 2021/9/29：对技能描述中的划线部分进行了弹窗标注。",-1),I=l("li",null,"UPD 2021/9/28：完成了全新的关卡预览器，可以更详细地查看关卡数据。",-1),j=c("UPD 2021/9/25：新增了"),x=c("主线章节"),z=c("查询功能。"),A=c("UPD 2021/9/21：新增"),C=c("轮换事件"),T=c("，可以查看国际服中当前进行中的轮换事件。"),G=l("li",null,"UPD 2021/9/11：新增【反叛的结局】数据限时内容。",-1),H=l("li",null,"UPD 2021/8/26：增加光灵的巨像内对话部分。",-1),O=l("li",null,[c("UPD 2021/8/21：优化移动端表现，修复部分角色"),l("del",null,"Frostfire"),c("的动态立绘BUG。")],-1),W=l("li",null,"UPD 2021/8/20：完成了对皮肤系统的支持。",-1),B=c("UPD 2021/8/18：增加"),E=c("游戏原声"),F=c("部分，用于试听游戏 BGM。该功能需要 iOS 14.5 或 Chrome 76 以上。"),M=l("li",null,"UPD 2021/8/17：缓存部分页面防止筛选设置丢失。",-1),X=c("UPD 2021/8/16：完成了"),J=c("派遣室"),K=c("的功能，并且可以计算派遣获取的光珀数量了。"),L=l("li",null,"UPD 2021/8/15：现在可以在光灵的语音一览处下载 768kbps 位速的语音了。",-1),N=l("hr",{style:{width:"80%"}},null,-1),R={ref:"timeline",class:"fake_as_timeline"};d.render=function(c,d,$,q,Q,V){const Y=m("el-carousel-item"),Z=m("el-carousel"),tt=m("router-link"),et=h("lazy");return t(),e(i,null,[l("h1",null,a(c.$t("main_view.title")),1),l("div",g,[Q.main_caroursel?(t(),e(Z,{key:0,set:c.now=Date.now(),height:V.calcImgHeight()+"px",interval:"5000"},{default:n((()=>[(t(!0),e(i,null,r(V.main_caroursel_2,(r=>(t(),e(i,{key:r.order},[r.open<=c.now&&r.close>c.now&&r.open?(t(),e(Y,{key:0},{default:n((()=>[s(l("img",{width:V.calcImgWidth(),height:V.calcImgHeight()},null,8,["width","height"]),[[et,"/main_caroursel/"+r.icon+"_scale.png"]]),l("div",_,a(r.desc),1)])),_:2},1024)):o("",!0)],64)))),128))])),_:1},8,["set","height"])):o("",!0)]),l("h2",null,a(c.$t("main_view.website_update_log")),1),w,l("div",f,[l("ul",p,[l("li",null,[D,l(tt,{to:"/Drawcard"},{default:n((()=>[P])),_:1}),U]),y,l("li",null,[k,l(tt,{to:"/DunefireStrike"},{default:n((()=>[v])),_:1}),S]),b,I,l("li",null,[j,l(tt,{to:"/Chapter"},{default:n((()=>[x])),_:1}),z]),l("li",null,[A,l(tt,{to:"/Caroursel"},{default:n((()=>[C])),_:1}),T]),G,H,O,W,l("li",null,[B,l(tt,{to:"/Music"},{default:n((()=>[E])),_:1}),F]),M,s(l("li",null,"UPD 2021/8/16：主页更新，增加指定游戏语言的 Twitter 页面。",512),[[u,!Q.in_china]]),l("li",null,[X,l(tt,{to:"/Dispatch"},{default:n((()=>[J])),_:1}),K]),L])]),s(l("div",null,[l("h2",null,a(c.$t("main_view.twitter")),1),l("a",{class:"twitter-follow-button",href:"//twitter.com/"+V.twitter_name,"data-lang":V.twitter_lang,"data-size":"medium"},null,8,["href","data-lang"]),N,l("div",R,[l("a",{class:"twitter-timeline","data-lang":V.twitter_lang,"data-width":"660","data-chrome":"transparent","data-theme":"dark",href:"//twitter.com/"+V.twitter_name},null,8,["data-lang","href"])],512)],512),[[u,!Q.in_china]])],64)};export default d;
