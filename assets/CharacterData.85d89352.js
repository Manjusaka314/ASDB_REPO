import{j as e,k as t,E as n,I as a,l as o,m as i,n as r,o as l,e as s,p as d,q as u,s as c,K as p,t as f,u as m,v as h,w as g,i as v,b as y,A as b,C as w,x,y as k}from"./@pixi.ba7a7c6f.js";import{S as _,B as S,a as C}from"./@pixi-spine.1701d005.js";import{E as O}from"./index.d91a3b3a.js";import{h as E,p as z,i as T,b as M,v as A,o as L,c as B,a as P,T as W,m as j,d as D,j as H,k as V,F as q,r as I,l as N,s as R,n as U,q as Y,u as X,w as F,x as K,y as G,z as Z,A as J,B as Q,C as ee,D as te,t as ne,e as ae,f as oe,g as ie,E as re}from"./index.544bd217.js";import{E as le,h as se}from"./hca.1ae2a8f7.js";import{_ as de}from"./Category.f2be70aa.js";
/*!
 * pixi.js - v6.1.2
 * Compiled Thu, 12 Aug 2021 17:11:19 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */e.registerPlugin("accessibility",t),e.registerPlugin("extract",n),e.registerPlugin("interaction",a),e.registerPlugin("particle",o),e.registerPlugin("prepare",i),e.registerPlugin("batch",r),e.registerPlugin("tilingSprite",l),s.registerPlugin(d),s.registerPlugin(u),s.registerPlugin(c),s.registerPlugin(p),s.registerPlugin(f),m.registerPlugin(h),m.registerPlugin(g),_.registerLoaderPlugin();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ue=function(){return(ue=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ce(e,t){for(var n=e.length;n--;)if(e[n].pointerId===t.pointerId)return n;return-1}function pe(e,t){var n;if(t.touches){n=0;for(var a=0,o=t.touches;a<o.length;a++){var i=o[a];i.pointerId=n++,pe(e,i)}}else(n=ce(e,t))>-1&&e.splice(n,1),e.push(t)}function fe(e){for(var t,n=(e=e.slice(0)).pop();t=e.pop();)n={clientX:(t.clientX-n.clientX)/2+n.clientX,clientY:(t.clientY-n.clientY)/2+n.clientY};return n}function me(e){if(e.length<2)return 0;var t=e[0],n=e[1];return Math.sqrt(Math.pow(Math.abs(n.clientX-t.clientX),2)+Math.pow(Math.abs(n.clientY-t.clientY),2))}"undefined"!=typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}));var he={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};function ge(e,t,n,a){he[e].split(" ").forEach((function(e){t.addEventListener(e,n,a)}))}function ve(e,t,n){he[e].split(" ").forEach((function(e){t.removeEventListener(e,n)}))}"undefined"!=typeof window&&("function"==typeof window.PointerEvent?he={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:"function"==typeof window.TouchEvent&&(he={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));var ye,be="undefined"!=typeof document&&!!document.documentMode;var we=["webkit","moz","ms"],xe={};function ke(e){if(xe[e])return xe[e];var t=ye||(ye=document.createElement("div").style);if(e in t)return xe[e]=e;for(var n=e[0].toUpperCase()+e.slice(1),a=we.length;a--;){var o=""+we[a]+n;if(o in t)return xe[e]=o}}function _e(e,t){return parseFloat(t[ke(e)])||0}function Se(e,t,n){void 0===n&&(n=window.getComputedStyle(e));var a="border"===t?"Width":"";return{left:_e(t+"Left"+a,n),right:_e(t+"Right"+a,n),top:_e(t+"Top"+a,n),bottom:_e(t+"Bottom"+a,n)}}function Ce(e,t,n){e.style[ke(t)]=n}function $e(e){var t=e.parentNode,n=window.getComputedStyle(e),a=window.getComputedStyle(t),o=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{elem:{style:n,width:o.width,height:o.height,top:o.top,bottom:o.bottom,left:o.left,right:o.right,margin:Se(e,"margin",n),border:Se(e,"border",n)},parent:{style:a,width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right,padding:Se(t,"padding",a),border:Se(t,"border",a)}}}function Oe(e,t){return 1===e.nodeType&&(" "+function(e){return(e.getAttribute("class")||"").trim()}(e)+" ").indexOf(" "+t+" ")>-1}var Ee=/^http:[\w\.\/]+svg$/;var ze={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(e){e.preventDefault(),e.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,relative:!1,setTransform:function(e,t,n){var a=t.x,o=t.y,i=t.scale,r=t.isSVG;if(Ce(e,"transform","scale("+i+") translate("+a+"px, "+o+"px)"),r&&be){var l=window.getComputedStyle(e).getPropertyValue("transform");e.setAttribute("transform",l)}},startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function Te(e,t){if(!e)throw new Error("Panzoom requires an element as an argument");if(1!==e.nodeType)throw new Error("Panzoom requires an element with a nodeType of 1");if(!function(e){var t=e.ownerDocument,n=e.parentNode;return t&&n&&9===t.nodeType&&1===n.nodeType&&t.documentElement.contains(n)}(e))throw new Error("Panzoom should be called on elements that have been attached to the DOM");t=ue(ue({},ze),t);var n=function(e){return Ee.test(e.namespaceURI)&&"svg"!==e.nodeName.toLowerCase()}(e),a=e.parentNode;a.style.overflow=t.overflow,a.style.userSelect="none",a.style.touchAction=t.touchAction,(t.canvas?a:e).style.cursor=t.cursor,e.style.userSelect="none",e.style.touchAction=t.touchAction,Ce(e,"transformOrigin","string"==typeof t.origin?t.origin:n?"0 0":"50% 50%");var o,i,r,l,s,d,u=0,c=0,p=1,f=!1;function m(t,n,a){if(!a.silent){var o=new CustomEvent(t,{detail:n});e.dispatchEvent(o)}}function h(t,a,o){var i={x:u,y:c,scale:p,isSVG:n,originalEvent:o};return requestAnimationFrame((function(){"boolean"==typeof a.animate&&(a.animate?function(e,t){Ce(e,"transition",ke("transform")+" "+t.duration+"ms "+t.easing)}(e,a):Ce(e,"transition","none")),a.setTransform(e,i,a)})),m(t,i,a),m("panzoomchange",i,a),i}function g(){if(t.contain){var n=$e(e),a=n.parent.width-n.parent.border.left-n.parent.border.right,o=n.parent.height-n.parent.border.top-n.parent.border.bottom,i=a/(n.elem.width/p),r=o/(n.elem.height/p);"inside"===t.contain?t.maxScale=Math.min(i,r):"outside"===t.contain&&(t.minScale=Math.max(i,r))}}function v(n,a,o,i){var r=ue(ue({},t),i),l={x:u,y:c,opts:r};if(!r.force&&(r.disablePan||r.panOnlyWhenZoomed&&p===r.startScale))return l;if(n=parseFloat(n),a=parseFloat(a),r.disableXAxis||(l.x=(r.relative?u:0)+n),r.disableYAxis||(l.y=(r.relative?c:0)+a),r.contain){var s=$e(e),d=s.elem.width/p,f=s.elem.height/p,m=d*o,h=f*o,g=(m-d)/2,v=(h-f)/2;if("inside"===r.contain){var y=(-s.elem.margin.left-s.parent.padding.left+g)/o,b=(s.parent.width-m-s.parent.padding.left-s.elem.margin.left-s.parent.border.left-s.parent.border.right+g)/o;l.x=Math.max(Math.min(l.x,b),y);var w=(-s.elem.margin.top-s.parent.padding.top+v)/o,x=(s.parent.height-h-s.parent.padding.top-s.elem.margin.top-s.parent.border.top-s.parent.border.bottom+v)/o;l.y=Math.max(Math.min(l.y,x),w)}else if("outside"===r.contain){y=(-(m-s.parent.width)-s.parent.padding.left-s.parent.border.left-s.parent.border.right+g)/o,b=(g-s.parent.padding.left)/o;l.x=Math.max(Math.min(l.x,b),y);w=(-(h-s.parent.height)-s.parent.padding.top-s.parent.border.top-s.parent.border.bottom+v)/o,x=(v-s.parent.padding.top)/o;l.y=Math.max(Math.min(l.y,x),w)}}return l}function y(e,n){var a=ue(ue({},t),n),o={scale:p,opts:a};return!a.force&&a.disableZoom||(o.scale=Math.min(Math.max(e,a.minScale),a.maxScale)),o}function b(e,t,n,a){var o=v(e,t,p,n),i=o.opts;return u=o.x,c=o.y,h("panzoompan",i,a)}function w(e,t,n){var a=y(e,t),o=a.opts;if(o.force||!o.disableZoom){e=a.scale;var i=u,r=c;if(o.focal){var l=o.focal;i=(l.x/e-l.x/p+u*e)/e,r=(l.y/e-l.y/p+c*e)/e}var s=v(i,r,e,{relative:!1,force:!0});return u=s.x,c=s.y,p=e,h("panzoomzoom",o,n)}}function x(e,n){var a=ue(ue(ue({},t),{animate:!0}),n);return w(p*Math.exp((e?1:-1)*a.step),a)}function k(t,a,o,i){var r=$e(e),l=r.parent.width-r.parent.padding.left-r.parent.padding.right-r.parent.border.left-r.parent.border.right,s=r.parent.height-r.parent.padding.top-r.parent.padding.bottom-r.parent.border.top-r.parent.border.bottom,d=a.clientX-r.parent.left-r.parent.padding.left-r.parent.border.left-r.elem.margin.left,u=a.clientY-r.parent.top-r.parent.padding.top-r.parent.border.top-r.elem.margin.top;n||(d-=r.elem.width/p/2,u-=r.elem.height/p/2);var c={x:d/l*(l*t),y:u/s*(s*t)};return w(t,ue(ue({animate:!1},o),{focal:c}),i)}w(t.startScale,{animate:!1}),setTimeout((function(){g(),b(t.startX,t.startY,{animate:!1})}));var _=[];function S(e){if(!function(e,t){for(var n=e;null!=n;n=n.parentNode)if(Oe(n,t.excludeClass)||t.exclude.indexOf(n)>-1)return!0;return!1}(e.target,t)){pe(_,e),f=!0,t.handleStartEvent(e),o=u,i=c,m("panzoomstart",{x:u,y:c,scale:p,isSVG:n,originalEvent:e},t);var a=fe(_);r=a.clientX,l=a.clientY,s=p,d=me(_)}}function C(e){if(f&&void 0!==o&&void 0!==i&&void 0!==r&&void 0!==l){pe(_,e);var n=fe(_);if(_.length>1)0===d&&(d=me(_)),k(y((me(_)-d)*t.step/80+s).scale,n);else b(o+(n.clientX-r)/p,i+(n.clientY-l)/p,{animate:!1},e)}}function $(e){1===_.length&&m("panzoomend",{x:u,y:c,scale:p,isSVG:n,originalEvent:e},t),function(e,t){if(t.touches)for(;e.length;)e.pop();else{var n=ce(e,t);n>-1&&e.splice(n,1)}}(_,e),f&&(f=!1,o=i=r=l=void 0)}var O=!1;function E(){O||(O=!0,ge("down",t.canvas?a:e,S),ge("move",document,C,{passive:!0}),ge("up",document,$,{passive:!0}))}return t.noBind||E(),{bind:E,destroy:function(){O=!1,ve("down",t.canvas?a:e,S),ve("move",document,C),ve("up",document,$)},eventNames:he,getPan:function(){return{x:u,y:c}},getScale:function(){return p},getOptions:function(){return function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(t)},pan:b,reset:function(e){var n=ue(ue(ue({},t),{animate:!0,force:!0}),e);p=y(n.startScale,n).scale;var a=v(n.startX,n.startY,p,n);return u=a.x,c=a.y,h("panzoomreset",n)},resetStyle:function(){a.style.overflow="",a.style.userSelect="",a.style.touchAction="",a.style.cursor="",e.style.cursor="",e.style.userSelect="",e.style.touchAction="",Ce(e,"transformOrigin","")},setOptions:function(n){for(var o in void 0===n&&(n={}),n)n.hasOwnProperty(o)&&(t[o]=n[o]);(n.hasOwnProperty("cursor")||n.hasOwnProperty("canvas"))&&(a.style.cursor=e.style.cursor="",(t.canvas?a:e).style.cursor=t.cursor),n.hasOwnProperty("overflow")&&(a.style.overflow=n.overflow),n.hasOwnProperty("touchAction")&&(a.style.touchAction=n.touchAction,e.style.touchAction=n.touchAction),(n.hasOwnProperty("minScale")||n.hasOwnProperty("maxScale")||n.hasOwnProperty("contain"))&&g()},setStyle:function(t,n){return Ce(e,t,n)},zoom:w,zoomIn:function(e){return x(!0,e)},zoomOut:function(e){return x(!1,e)},zoomToPoint:k,zoomWithWheel:function(e,n){e.preventDefault();var a=ue(ue({},t),n),o=(0===e.deltaY&&e.deltaX?e.deltaX:e.deltaY)<0?1:-1;return k(y(p*Math.exp(o*a.step/3),a).scale,e,a)}}}function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t,n,a,o,i,r){try{var l=e[i](r),s=l.value}catch(vt){return void n(vt)}l.done?t(s):Promise.resolve(s).then(a,o)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Te.defaultOptions=ze;var De=function(e){return e==document.activeElement},He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}var t;return(t=[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(e){if("Tab"===(t=e).key||9===t.keyCode){if(!e.shiftKey)return!document.activeElement||De(this.lastElement())?(this.firstElement().focus(),void e.preventDefault()):void 0;De(this.firstElement())&&(this.lastElement().focus(),e.preventDefault())}var t}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(e){e&&(this.root=e,this.elements=function(e){return We(e.querySelectorAll('button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])')||[])}(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}])&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}(),Ve=function(e){var t=e.targetTouches?e.targetTouches[0]:e;return{x:t.clientX,y:t.clientY}},qe=function(e,t,n){return"number"!=typeof e&&(e=Math.min(t,n)||t),"number"!=typeof n&&(n=Math.max(t,e)),Math.min(Math.max(t,e),n)},Ie=function(e){return e&&Number(e.replace(/px$/,""))||0},Ne={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},Re=function(e,t,n){t&&t.addEventListener(Ne[e].pc,n),t&&t.addEventListener(Ne[e].m,n,{passive:!1})},Ue=function(e,t,n){t&&t.removeEventListener(Ne[e].pc,n),t&&t.removeEventListener(Ne[e].m,n)},Ye=!1;if("undefined"!=typeof window){var Xe={get passive(){Ye=!0}};window.addEventListener("testPassive",null,Xe),window.removeEventListener("testPassive",null,Xe)}var Fe,Ke,Ge="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),Ze=[],Je=!1,Qe=0,et=-1,tt=function(e){return Ze.some((function(){return function(e,t){var n=!1;return function(e){for(var t=[];e;){if(t.push(e),e.classList.contains("vfm"))return t;e=e.parentElement}return t}(e).forEach((function(e){var a,o;(function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e);return["auto","scroll"].includes(t.overflowY)&&e.scrollHeight>e.clientHeight})(e)&&(o=t,!(0===(a=e).scrollTop&&o<0||a.scrollTop+a.clientHeight+o>=a.scrollHeight&&o>0))&&(n=!0)})),n}(e,-Qe)}))},nt=function(e){var t=e||window.event;return!!tt(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},at=function(e){e?(Ze=Ze.filter((function(t){return t.targetElement!==e})),Ge?(e.ontouchstart=null,e.ontouchmove=null,Je&&0===Ze.length&&(document.removeEventListener("touchmove",nt,Ye?{passive:!1}:void 0),Je=!1)):Ze.length||(void 0!==Ke&&(document.body.style.paddingRight=Ke,Ke=void 0),void 0!==Fe&&(document.body.style.overflow=Fe,Fe=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")},ot=function(){},it="entering",rt="leave",lt={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},st={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(e){var t=Me(e);return"boolean"===t||"string"===t||e.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(e){return["t","tr","r","br","b","bl","l","tl"].filter((function(t){return-1!==e.indexOf(t)})).length===e.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(e,t){var n=t.emit,a=Symbol("vfm"),o=K(null),i=K(null),r=K(null),l=K(null),s=K(null),d=K(null),u=K(null),c=new He,p=K(!1),f=G({modal:!1,overlay:!1,resize:!1}),m=K(null),h=K(null),g=K(!1),v=K({}),y=K({}),b=K(null),w=K(null),x=ot,k=ot,_=Z((function(){return"string"==typeof e.overlayTransition?{name:e.overlayTransition}:Pe({},e.overlayTransition)})),S=Z((function(){return"string"==typeof e.transition?{name:e.transition}:Pe({},e.transition)})),C=Z((function(){return(e.hideOverlay||m.value===rt)&&h.value===rt})),$=Z((function(){return!1===e.zIndex?!!e.zIndexAuto&&+e.zIndexBase+2*(u.value||0):e.zIndex})),O=Z((function(){return Pe({},!1!==$.value&&{zIndex:$.value})})),E=Z((function(){var t=[y.value];return Array.isArray(e.contentStyle)?t.push.apply(t,We(e.contentStyle)):t.push(e.contentStyle),t}));function z(){return{uid:a,props:e,emit:n,vfmContainer:i,vfmContent:r,vfmResize:l,vfmOverlayTransition:s,vfmTransition:d,getAttachElement:L,modalStackIndex:u,visibility:f,handleLockScroll:A,$focusTrap:c,toggle:j,params:v}}function T(){if(e.modelValue){if(n("_before-open",B({type:"_before-open"})),P("before-open",!1))return void k("show");var t=L();if(t||!1===e.attach){!1!==e.attach&&(o.value?t.appendChild(o.value):te((function(){T()})));var i=e.api.openedModals.findIndex((function(e){return e.uid===a}));-1!==i&&e.api.openedModals.splice(i,1),e.api.openedModals.push(z()),u.value=e.api.openedModals.length-1,A(),e.api.openedModals.filter((function(e){return e.uid!==a})).forEach((function(e,n){e.getAttachElement()===t&&(e.modalStackIndex.value=n,e.visibility.overlay=!1)})),p.value=!0,f.overlay=!0,f.modal=!0}else!1!==t&&console.warn("Unable to locate target ".concat(e.attach))}}function M(){var t=e.api.openedModals.findIndex((function(e){return e.uid===a}));if(-1!==t&&e.api.openedModals.splice(t,1),e.api.openedModals.length>0){var n=e.api.openedModals[e.api.openedModals.length-1];n.props.focusTrap&&n.$focusTrap.firstElement().focus(),(n.props.focusRetain||n.props.focusTrap)&&n.vfmContainer.value.focus(),!n.props.hideOverlay&&(n.visibility.overlay=!0)}e.drag&&V(),e.resize&&I(),b.value=null,f.overlay=!1,f.modal=!1}function A(){e.modelValue&&te((function(){e.lockScroll?function(e,t){if(e){if(!Ze.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};Ze=[].concat(We(Ze),[n]),Ge?(e.ontouchstart=function(e){1===e.targetTouches.length&&(et=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,a,o;1===t.targetTouches.length&&(a=e,Qe=(n=t).targetTouches[0].clientY-et,!tt(n.target)&&(a&&0===a.scrollTop&&Qe>0||(o=a)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&Qe<0?nt(n):n.stopPropagation()))},Je||(document.addEventListener("touchmove",nt,Ye?{passive:!1}:void 0),Je=!0)):function(e){if(void 0===Ke){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var a=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Ke=document.body.style.paddingRight,document.body.style.paddingRight="".concat(a+n,"px")}}void 0===Fe&&(Fe=document.body.style.overflow,document.body.style.overflow="hidden")}(t)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")}(i.value,{reserveScrollBarGap:!0}):at(i.value)}))}function L(){return!1!==e.attach&&("string"==typeof e.attach?!!window&&window.document.querySelector(e.attach):e.attach)}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pe({ref:z()},e)}function P(e,t){var a=!1,o=B({type:e,stop:function(){a=!0}});return n(e,o),!!a&&(g.value=!0,te((function(){n("update:modelValue",t)})),!0)}function W(e,t,a){b.value="".concat(t,":").concat(a),n(b.value,e)}function j(t,a){var o=arguments;return new Promise((function(i,r){x=function(e){i(e),x=ot},k=function(e){r(e),k=ot};var l="boolean"==typeof t?t:!e.modelValue;l&&2===o.length&&(v.value=a),n("update:modelValue",l)}))}function D(t){t.stopPropagation();var n,a,o,l,s="resize",d="drag",u=t.target.getAttribute("direction");if(u)n=s;else{if(a=t,o=r.value,""!==(l=e.dragSelector)&&!We(o.querySelectorAll(l)).includes(a.target))return;n=d}W(t,n,"start");var c,p,f,m,h=Ve(t),g=i.value.getBoundingClientRect(),v=r.value.getBoundingClientRect(),b="absolute"===window.getComputedStyle(r.value).position,w=Ie(y.value.top),x=Ie(y.value.left),k=function(){if(e.fitParent){var t={absolute:function(){return{minTop:0,minLeft:0,maxTop:g.height-v.height,maxLeft:g.width-v.width}},relative:function(){return{minTop:w+g.top-v.top,minLeft:x+g.left-v.left,maxTop:w+g.bottom-v.bottom,maxLeft:x+g.right-v.right}}};return b?t.absolute():t.relative()}return{}}(),_=n===s&&(c=document.body,p="cursor",f=lt[u],m=c.style[p],c.style[p]=f,function(){c.style[p]=m}),S=function(t){t.stopPropagation(),W(t,n,"move");var a,o,i=Ve(t),r={x:i.x-h.x,y:i.y-h.y};n===s&&(r=function(t,n,a,o,i){var r=function(t,n,i,r){var l,s=o[n],d=a[t]-o[t],u=(l=n).charAt(0).toUpperCase()+l.slice(1);return{axis:i,edgeName:n,min:r?d:-s,max:r?s:d,minEdge:e["min".concat(u)],maxEdge:e["max".concat(u)],getEdge:function(e){return o[n]-e*(r?1:-1)},getOffsetAxis:function(e,t){var a=o[n]-e;return t?r?a:0:(r?1:-1)*a/2}}},l={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},s={x:0,y:0};return t.split("").forEach((function(t){var a=r.apply(void 0,We(l[t]));s=Pe(Pe({},s),function(t){var a,o=n[t.axis];o=e.fitParent?qe(t.min,o,t.max):o;var r=qe(t.minEdge,t.getEdge(o),t.maxEdge);return o=t.getOffsetAxis(r,i),Le(a={},t.edgeName,r),Le(a,t.axis,o),a}(a))})),s}(u,r,g,v,b)),b?(a=v.top-g.top+r.y,o=v.left-g.left+r.x):(a=w+r.y,o=x+r.x),n===d&&e.fitParent&&(a=qe(k.minTop,a,k.maxTop),o=qe(k.minLeft,o,k.maxLeft));var l=Pe(Pe(Pe({position:"relative",top:a+"px",left:o+"px",margin:"unset",touchAction:"none"},b&&{position:"absolute",transform:"unset",width:v.width+"px",height:v.height+"px"}),r.width&&{width:r.width+"px"}),r.height&&{height:r.height+"px"});y.value=Pe(Pe({},y.value),l)};Re("move",document,S),Re("up",document,(function e(t){t.stopPropagation(),n===s&&_&&_(),setTimeout((function(){W(t,n,"end")})),Ue("move",document,S),Ue("up",document,e)}))}function H(){Re("down",r.value,D),y.value.touchAction="none"}function V(){Ue("down",r.value,D)}function q(){f.resize=!0,te((function(){Re("down",l.value,D)}))}function I(){Ue("down",l.value,D),f.resize=!1}return J((function(){return e.modelValue}),(function(e){if(g.value)g.value=!1;else if(T(),!e){if(P("before-close",!0))return void k("hide");M()}})),J((function(){return e.lockScroll}),A),J((function(){return e.hideOverlay}),(function(t){e.modelValue&&!t&&(f.overlay=!0)})),J((function(){return e.attach}),T),J(C,(function(e){e&&(p.value=!1,i.value.style.display="none")}),{flush:"post"}),J((function(){return e.drag}),(function(e){p.value&&(e?H():V())})),J((function(){return e.resize}),(function(e){p.value&&(e?q():I())})),J((function(){return e.keepChangedStyle}),(function(e){e||(y.value={})})),e.api.modals.push(z()),Q((function(){T()})),ee((function(){var t;M(),e.lockScroll&&i.value&&at(i.value),null==o||null===(t=o.value)||void 0===t||t.remove();var n=e.api.modals.findIndex((function(e){return e.uid===a}));e.api.modals.splice(n,1)})),{root:o,vfmContainer:i,vfmContent:r,vfmResize:l,vfmOverlayTransition:s,vfmTransition:d,computedOverlayTransition:_,computedTransition:S,visible:p,visibility:f,params:v,calculateZIndex:$,bindStyle:O,bindContentStyle:E,beforeOverlayEnter:function(){m.value=it},afterOverlayEnter:function(){m.value="enter"},beforeOverlayLeave:function(){m.value="leavng"},afterOverlayLeave:function(){m.value=rt},beforeModalEnter:function(){h.value=it},afterModalEnter:function(){h.value="enter",(e.focusRetain||e.focusTrap)&&i.value.focus(),e.focusTrap&&c.enable(i.value),e.drag&&H(),e.resize&&q(),n("_opened"),n("opened",B({type:"opened"})),x("show")},beforeModalLeave:function(){h.value="leavng",c.enabled()&&c.disable()},afterModalLeave:function(){h.value=rt,u.value=null,e.lockScroll&&at(i.value),e.keepChangedStyle||(y.value={});var t=!1,a=B({type:"closed",stop:function(){t=!0}});n("_closed"),n("closed",a),x("hide"),t||(v.value={})},onMousedown:function(e){w.value=null==e?void 0:e.target},onMouseupContainer:function(){w.value===i.value&&"resize:move"!==b.value&&(n("click-outside",B({type:"click-outside"})),e.clickToClose&&n("update:modelValue",!1))},onEsc:function(){p.value&&e.escToClose&&n("update:modelValue",!1)}}}},dt=E("data-v-2836fdb5");z("data-v-2836fdb5");var ut={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};T();var ct=dt((function(e,t,n,a,o,i){return n.ssr||a.visible?M((L(),B("div",{key:0,ref:"root",style:a.bindStyle,class:["vfm vfm--inset",[!1===n.attach?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":n.preventClick}]],onKeydown:t[4]||(t[4]=N((function(){return a.onEsc&&a.onEsc.apply(a,arguments)}),["esc"]))},[P(W,j(a.computedOverlayTransition,{onBeforeEnter:a.beforeOverlayEnter,onAfterEnter:a.afterOverlayEnter,onBeforeLeave:a.beforeOverlayLeave,onAfterLeave:a.afterOverlayLeave}),{default:dt((function(){return[!n.hideOverlay&&a.visibility.overlay?(L(),B("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",n.overlayClass],style:n.overlayStyle},null,6)):D("v-if",!0)]})),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),P(W,j(a.computedTransition,{onBeforeEnter:a.beforeModalEnter,onAfterEnter:a.afterModalEnter,onBeforeLeave:a.beforeModalLeave,onAfterLeave:a.afterModalLeave}),{default:dt((function(){return[M(P("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",n.classes],style:n.styles,"aria-expanded":a.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:t[2]||(t[2]=H((function(){return a.onMouseupContainer&&a.onMouseupContainer.apply(a,arguments)}),["self"])),onMousedown:t[3]||(t[3]=H((function(){return a.onMousedown&&a.onMousedown.apply(a,arguments)}),["self"]))},[P("div",{ref:"vfmContent",class:["vfm__content",[n.contentClass,{"vfm--prevent-auto":n.preventClick}]],style:a.bindContentStyle,onMousedown:t[1]||(t[1]=function(e){return a.onMousedown(null)})},[V(e.$slots,"default",{params:a.params,close:function(){return e.$emit("update:modelValue",!1)}}),a.visibility.resize&&a.visibility.modal?(L(),B("div",ut,[(L(!0),B(q,null,I(n.resizeDirections,(function(e){return L(),B("div",{key:e,direction:e,class:["vfm--resize-".concat(e),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])})),128))],512)):D("v-if",!0)],38)],46,["aria-expanded"]),[[A,a.visibility.modal]])]})),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[A,!n.ssr||a.visible]]):D("v-if",!0)}));!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("\n.vfm--fixed[data-v-2836fdb5] {\n  position: fixed;\n}\n.vfm--absolute[data-v-2836fdb5] {\n  position: absolute;\n}\n.vfm--inset[data-v-2836fdb5] {\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.vfm--overlay[data-v-2836fdb5] {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.vfm--prevent-none[data-v-2836fdb5] {\n  pointer-events: none;\n}\n.vfm--prevent-auto[data-v-2836fdb5] {\n  pointer-events: auto;\n}\n.vfm--outline-none[data-v-2836fdb5]:focus {\n  outline: none;\n}\n.vfm-enter-active[data-v-2836fdb5],\n.vfm-leave-active[data-v-2836fdb5] {\n  transition: opacity 0.2s;\n}\n.vfm-enter-from[data-v-2836fdb5],\n.vfm-leave-to[data-v-2836fdb5] {\n  opacity: 0;\n}\n.vfm--touch-none[data-v-2836fdb5] {\n  touch-action: none;\n}\n.vfm--select-none[data-v-2836fdb5] {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.vfm--resize-tr[data-v-2836fdb5],\n.vfm--resize-br[data-v-2836fdb5],\n.vfm--resize-bl[data-v-2836fdb5],\n.vfm--resize-tl[data-v-2836fdb5] {\n  width: 12px;\n  height: 12px;\n  z-index: 10;\n}\n.vfm--resize-t[data-v-2836fdb5] {\n  top: -6px;\n  left: 0;\n  width: 100%;\n  height: 12px;\n  cursor: ns-resize;\n}\n.vfm--resize-tr[data-v-2836fdb5] {\n  top: -6px;\n  right: -6px;\n  cursor: nesw-resize;\n}\n.vfm--resize-r[data-v-2836fdb5] {\n  top: 0;\n  right: -6px;\n  width: 12px;\n  height: 100%;\n  cursor: ew-resize;\n}\n.vfm--resize-br[data-v-2836fdb5] {\n  bottom: -6px;\n  right: -6px;\n  cursor: nwse-resize;\n}\n.vfm--resize-b[data-v-2836fdb5] {\n  bottom: -6px;\n  left: 0;\n  width: 100%;\n  height: 12px;\n  cursor: ns-resize;\n}\n.vfm--resize-bl[data-v-2836fdb5] {\n  bottom: -6px;\n  left: -6px;\n  cursor: nesw-resize;\n}\n.vfm--resize-l[data-v-2836fdb5] {\n  top: 0;\n  left: -6px;\n  width: 12px;\n  height: 100%;\n  cursor: ew-resize;\n}\n.vfm--resize-tl[data-v-2836fdb5] {\n  top: -6px;\n  left: -6px;\n  cursor: nwse-resize;\n}\n"),st.render=ct,st.__scopeId="data-v-2836fdb5",st.__file="lib/VueFinalModal.vue";var pt={props:{},methods:{slice:function(e){this.api.dynamicModals.splice(e,1)},beforeOpen:function(e,t,n){var a,o=this;return(a=function*(){e.ref.params.value=t.params,yield o.$nextTick(),yield o.$nextTick(),t.value||(o.slice(n),t.reject("show"))},function(){var e=this,t=arguments;return new Promise((function(n,o){var i=a.apply(e,t);function r(e){Ae(i,n,o,r,l,"next",e)}function l(e){Ae(i,n,o,r,l,"throw",e)}r(void 0)}))})()},isString:function(e){return"string"==typeof e}}},ft={class:"modals-container"};function mt(e,t){var n=Pe(Pe({},e),{},{props:Pe({},e.props)});return Object.assign(n.props,{api:{type:Object,default:function(){return t}}}),n}pt.render=function(e,t,n,a,o,i){return L(),B("div",ft,[(L(!0),B(q,null,I(e.api.dynamicModals,(function(e,t){return L(),B(U(e.component),j({key:e.id},e.bind,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t}},Y(e.on),{on_closed:function(e){return i.slice(t)},on_beforeOpen:function(t){return i.beforeOpen(t,e)},on_opened:e.opened}),X({_:2},[I(e.slots,(function(e,t){return{name:t,fn:F((function(){return[D(" eslint-disable vue/no-v-html "),i.isString(e)?(L(),B("div",{key:0,innerHTML:e},null,8,["innerHTML"])):(L(),B(U(e.component),j({key:1},e.bind,Y(e.on||{})),null,16))]}))}}))]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])})),128))])},pt.__file="lib/ModalsContainer.vue";var ht,gt,vt,yt,bt,wt,xt=(gt=null,bt={show:function(e){for(var t=this,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];switch(Me(e)){case"string":return this.toggle.apply(this,[e,!0].concat(a));case"object":return Promise.allSettled([new Promise((function(n,o){var i={value:!0,id:Symbol("dynamicModal"),component:gt,bind:{},slots:{},on:{},params:a[0],reject:o,opened:function(){n("show")}};t.dynamicModals.push(R(Object.assign(i,e)))}))])}},hide:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.toggle(t,!1)},hideAll:function(){return this.hide.apply(this,We(this.openedModals.map((function(e){return e.props.name}))))},toggle:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=Array.isArray(e)?this.get.apply(this,We(e)):this.get(e);return Promise.allSettled(o.map((function(e){return e.toggle.apply(e,n)})))},get:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.modals.filter((function(e){return t.includes(e.props.name)}))},dynamicModals:R([]),openedModals:[],modals:[],_setDefaultModal:function(e){gt=e}},Le(ht={},"$vfm",bt),Le(ht,"VueFinalModal",(yt=mt(st,vt=bt),vt._setDefaultModal(yt),yt)),Le(ht,"ModalsContainer",function(e){return mt(pt,e)}(bt)),ht),kt=xt.$vfm,_t=xt.VueFinalModal,St={exports:{}};wt=St,function(){function e(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function t(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){r(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof v&&v.global===v?v:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,i,r){var l=o.URL||o.webkitURL,s=document.createElement("a");i=i||e.name||"download",s.download=i,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?a(s):n(s.href)?t(e,i,r):a(s,s.target="_blank")):(s.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(s.href)}),4e4),setTimeout((function(){a(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(o,i,r){if(i=i||o.name||"download","string"!=typeof o)navigator.msSaveOrOpenBlob(e(o,r),i);else if(n(o))t(o,i,r);else{var l=document.createElement("a");l.href=o,l.target="_blank",setTimeout((function(){a(l)}))}}:function(e,n,a,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,a);var l="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||l&&s||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=d?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var c=o.URL||o.webkitURL,p=c.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout((function(){c.revokeObjectURL(p)}),4e4)}});o.saveAs=r.saveAs=r,wt.exports=r}();const Ct={components:{VueFinalModal:_t},props:{char_i18n_name:String,char_en_name:String,star:Number,elements:Array,grade:Object,prof:Object,profile:String,group:Object,monster_mode:Object,ui:String,skins:Array},data:()=>({selectedAs:0,selectedSkin:void 0,app:void 0,enabledDyn:!1,panzoom:void 0,zoomParent:void 0,enabledSkin:!1,spineContainer:[],offsetWidth:0,spined:[],loading_spine:!1,baseScale:{},baseOffsetX:{},baseOffsetY:{},game_lang:localStorage.getItem("game_lang"),popCg:{status:!1,cg:""}}),created(){},beforeUnmount(){this.app&&this.app.stage&&this.app.destroy(!0)},mounted(){!function(){var e=x;e.skipHello();var t=k,n=y;y.fromLoader=function(a,o,i){i||(i=o);var r=e.TextureCache[i]||e.TextureCache[o];if(!r){var l=e.BaseTextureCache[i]||e.BaseTextureCache[o];l||((l=new t(a,void 0,e.getResolutionOfUrl(o))).alphaMode=b.PREMULTIPLY_ALPHA,t.addToCache(l,i),i!==o&&t.addToCache(l,o)),r=new n(l),n.addToCache(r,i),i!==o&&n.addToCache(r,o)}return new Promise((e=>{e(r)}))},S.prototype.readString=function(){let e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;let t=[];for(let a=0;a<e;a++)t.push(this.readByte());try{return decodeURIComponent(escape(String.fromCharCode.apply(null,new Uint8Array(t))))}catch(n){return""}}}(),this.dynOffClick(),this.resetSpineView();let e=this;window.onresize=function(){e.resetSpineView()};const t=this.calcPanzoom(this.grade[0].offset),n=document.getElementById("tachie");this.panzoom=Te(n,{startScale:t.scale,startX:t.x,startY:t.y,origin:"center center"}),this.zoomParent=n.parentElement;document.getElementById("reset").addEventListener("click",this.panzoom.reset),this.app=new m({width:2048,height:2048,backgroundAlpha:!1}),this.app.start()},methods:{downloadSkinCg(){let e=this;le({url:e.popCg.cg,responseType:"arraybuffer"}).then((t=>{St.exports.saveAs(new Blob([t.data],{type:"image/png"}),e.char_i18n_name+"_"+e.selectedSkin.name+"_CG.png")}))},startSkinCg(){if(-1!=this.popCg.cg.indexOf(this.selectedSkin.skin_cg))return;this.$refs.popCg.src="/image_loading.svg";const e=window.innerWidth,t=window.innerHeight;if(t>e){this.$refs.popCg.style.transform="rotate(90deg)";let n=e;2*e>t&&(n=t/2),this.$refs.popCg.style.height=n+"px",this.$refs.popCg.style.width=2*n+"px",this.$refs.popCg.style.left=n+(e-n)/2+"px",n==e&&(this.$refs.popCg.style.top=(t-2*n)/2+"px"),this.$refs.popCgBtn.style.right="5px",this.$refs.popCgBtn.style.bottom="5px",this.$refs.popCgBtnDownload.style.right="5px",this.$refs.popCgBtnDownload.style.bottom="60px"}else this.$refs.popCg.style="max-width: 100%; max-height: 100%",this.$refs.popCg.style.top=(t-.5*e)/2+"px",this.$refs.popCgBtn.style.top="5px",this.$refs.popCgBtn.style.right="5px",this.$refs.popCgBtnDownload.style.top="5px",this.$refs.popCgBtnDownload.style.right="60px";this.popCg.cg="/cg_book/"+this.selectedSkin.skin_cg+"_scale.png",kt.show("skin_cg")},calcPanzoom(e,t,n){let a;a=this.enabledSkin?this.selectedSkin:this.grade.find((e=>e.grade==this.selectedAs));const o=e[0],i=e[1],r=e[2]*(this.enabledDyn?this.baseScale[a.spine]:1),l=$("#background").width(),s=$("#background").height();let d=l/2048,u=r*d;let c=t||1024,p=n||1024;return window.innerWidth<=768?{scale:r,x:c*(r-1)/r+(l/2-c*r)/r+o/r+(this.enabledDyn?1024-this.baseOffsetX[a.spine]:0),y:p*(r-1)/r+(s/2-p*r)/r-i/r+(this.enabledDyn?1024-this.baseOffsetY[a.spine]:0)}:{scale:r*d,x:c*(u-1)/u+(l/2-c*u)/u+o*(u/r)/u+(this.enabledDyn?1024-this.baseOffsetX[a.spine]:0),y:p*(u-1)/u+(s/2-p*u)/u-i*(u/r)/u+(this.enabledDyn?1024-this.baseOffsetY[a.spine]:0)}},checkBarColor(){switch(this.elements[0]){case 1:return"background: #05a4ec";case 2:return"background: #fe2605";case 3:return"background: #92d841";case 4:return"background: #fedb0b"}},resetSpineView(){let e=$(window).width()>1200?1200:$(window).width();if($("#background").css("zoom",e/1200),this.offsetWidth=window.innerWidth,this.panzoom){let e;e=this.enabledSkin?this.selectedSkin:this.grade.find((e=>e.grade==this.selectedAs));const t=this.calcPanzoom(this.enabledDyn&&this.baseScale[e.spine]?e.spine_offset:e.offset);this.panzoom.setOptions({startX:t.x,startY:t.y,startScale:t.scale}),this.panzoom.zoom(t.scale,{animate:!1}),this.panzoom.pan(t.x,t.y,{animate:!1})}},enableOnClick(){$("#tachie").css("pointer-events","auto"),this.zoomParent.addEventListener("wheel",this.panzoom.zoomWithWheel),$("#enable-on").css("display","none"),$("#enable-off").css("display","inline-block"),$(".juexing, #reset, .prof, .blind, .bar, .logo, .code, .rare, .profile, .skins, .shadow").fadeToggle(250)},enableOffClick(){$("#tachie").css("pointer-events","none"),this.zoomParent.removeEventListener("wheel",this.panzoom.zoomWithWheel),$("#enable-off").css("display","none"),$("#enable-on").css("display","inline-block"),$(".juexing, #reset, .prof, .blind, .bar, .logo, .code, .rare, .profile, .skins, .shadow").fadeToggle(250)},dynOnClick(){$("#dyn-on").css("display","none"),$("#sta").css("display","none"),$("#dyn-off").css("display","inline-block"),$("#dyn").css("display","inline-block"),this.enabledDyn=!0,this.computeJuexing(this.enabledSkin?void 0:this.selectedAs,!0)},dynOffClick(){$("#dyn-off").css("display","none"),$("#dyn").css("display","none"),$("#dyn-on").css("display","inline-block"),$("#sta").css("display","inline-block"),this.enabledDyn=!1,this.computeJuexing(this.selectedAs,!0)},replaceScene(e){this.app.stage.removeChildren(),this.app.stage.addChild(this.spineContainer[e])},computeJuexing(e,t){if(this.app&&this.app.loader.loading)return;let n;if(null!=e&&(this.enabledSkin=!1,$(".skin").css("border-left-color","#fff")),this.enabledSkin)n=this.selectedSkin;else{if(this.selectedAs==e&&!t)return;n=this.grade.find((t=>t.grade==e))}if(this.selectedAs=e,this.resetSpineView(),this.enabledDyn){$(".juexing input").css("filter","opacity(0.25)"),$("#juexing"+e).css("filter","opacity(1)");let t=this,a=this.spineContainer[n.spine]||new w,o=function(e,o){if(-1!=t.spined.indexOf(n.spine))return;let i=new C(o[n.spine].spineData),r=i.spineData.animations[0],l=i.state.setAnimation(0,"idle",!0),s=1/i.spineData.fps;var d=-1/0,u=-1/0,c=1/0,p=1/0;i.scale.set(.5);for(var f=0;f<r.duration;){l.animationStart=f,l.animationEnd=f;let e=i.getBounds().x,t=i.getBounds().y,n=i.width+e,a=i.height+t;d=Math.max(d,2*n),u=Math.max(u,2*a),c=Math.min(c,2*e),p=Math.min(p,2*t),f+=s}let m=d-c,h=u-p;if(l.animationStart=0,l.animationEnd=r.duration,m>2048||h>2048){let e=Math.max(m,h);var g=2048/e;i.scale.set(g),t.baseScale[n.spine]=e/2048;var v=1024-Math.min(m,h)*g/2}else{g=1;i.scale.set(g),t.baseScale[n.spine]=1;v=0}t.resetSpineView(),t.baseOffsetX[n.spine]=-c*g+(h>m?v:0),t.baseOffsetY[n.spine]=-p*g+(m>h?v:0),i.position.set(t.baseOffsetX[n.spine],t.baseOffsetY[n.spine]),t.loading_spine=!1,a.addChild(i),t.resetSpineView()},i="/pet_spine/"+n.spine+".skel";this.spineContainer[n.spine]||(this.loading_spine=!0,this.app.loader.add(n.spine,i,{metadata:{spineSkeletonScale:1}}).load(o),this.spineContainer[n.spine]=a),this.replaceScene(n.spine),0==t.spined.length&&(document.getElementById("dyn").innerHTML="",document.getElementById("dyn").appendChild(this.app.view))}},skinsHoverOn(){var e=$(".skins_scroll").scrollTop(),t=$(".skins_scroll")[0].scrollHeight,n=$(".skins_scroll").height();t>n+1&&(0==e?($(".skins_shadow div:first").fadeOut(),$(".skins_shadow div:last").fadeIn()):n+e>=t?($(".skins_shadow div:first").fadeIn(),$(".skins_shadow div:last").fadeOut()):($(".skins_shadow div:first").fadeIn(),$(".skins_shadow div:last").fadeIn()))},skinsHoverOff(){$(".skins_shadow div:first").fadeOut(),$(".skins_shadow div:last").fadeOut()},showSkin(e,t){if(!this.app||!this.app.loader.loading){var n;switch(this.selectedAs=void 0,this.selectedSkin=t,e){case 1:n="#05a4ec";break;case 2:n="#fe2605";break;case 3:n="#92d841";break;case 4:n="#fedb0b"}$(".juexing input").css("filter","opacity(0.25)"),$(".skin").css("border-left-color","#fff"),$(event.target).css("border-left-color",n),this.enabledSkin||(this.enabledSkin=!0),this.computeJuexing(void 0,!0)}},fontSizeCalc(e){const t=window.innerWidth;var n="th"==this.game_lang?e.length:O.Buffer.from(e).length;return t<=768?$(".code-en").length>0&&n>15?750/n+"pt":"50pt":$(".code-en").length>0?n>20?480/n+"pt":"24pt":n>12?360/n+"pt":"30pt"}}},$t=E("data-v-4aeed47c");z("data-v-4aeed47c");const Ot={id:"popCg",ref:"popCg"},Et=P("i",{class:"fa fa-2x fa-download"},null,-1),zt=P("i",{class:"fa fa-2x fa-times"},null,-1),Tt={id:"loading",style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",margin:"0","z-index":"999","pointer-events":"none","text-align":"center"}},Mt={id:"tachie",class:"panzoom",style:{width:"2048px",height:"2048px",cursor:"move","user-select":"none","touch-action":"none","pointer-events":"none"}},At=P("div",{id:"dyn",style:{width:"100%",height:"100%",cursor:"move","user-select":"none","touch-action":"none",display:"none"}},null,-1),Lt={key:0,id:"sta",style:{width:"100%",height:"100%",cursor:"move","user-select":"none","touch-action":"none"}},Bt={key:1,id:"sta",style:{width:"100%",height:"100%",cursor:"move","user-select":"none","touch-action":"none"}},Pt=P("div",{class:"shadow"},null,-1),Wt={class:"button"},jt={id:"reset",type:"submit",class:"reset-button",style:{display:"none"}},Dt={key:0,class:"juexing"},Ht=P("br",null,null,-1),Vt={key:1,class:"prof"},qt={key:2,class:"blind"},It={key:0,id:"sub"},Nt={key:3,class:"rare"},Rt={class:"code"},Ut={key:0,class:"code-en"},Yt={key:5,class:"logo"},Xt={key:0},Ft=P("div",{class:"skins_shadow"},[P("div",{style:{"box-shadow":"inset 0px 30px 10px -15px #fff"}}),P("div",{style:{"box-shadow":"inset 0px -30px 10px -15px #fff"}})],-1),Kt={key:7,class:"profile"},Gt={key:0},Zt={key:1},Jt={key:2,id:"team"},Qt=P("br",null,null,-1);T();const en=$t(((e,t,n,a,o,i)=>{const r=oe("VueFinalModal"),l=oe("el-scrollbar"),s=ie("lazy");return L(),B(q,null,[P(r,{modelValue:o.popCg.status,"onUpdate:modelValue":t[3]||(t[3]=e=>o.popCg.status=e),name:"skin_cg",onClosed:t[4]||(t[4]=e=>o.popCg.cg="")},{default:$t((()=>[M(P("img",Ot,null,512),[[s,o.popCg.cg]]),P("button",{ref:"popCgBtnDownload",class:"button popCgBtn",onClick:t[1]||(t[1]=(...e)=>i.downloadSkinCg&&i.downloadSkinCg(...e))},[Et],512),P("button",{ref:"popCgBtn",class:"button popCgBtn",onClick:t[2]||(t[2]=e=>o.popCg.status=!1)},[zt],512)])),_:1},8,["modelValue"]),P("div",{id:"background",class:"panzoom-parent",style:[{"max-width":"1200px","border-width":"10px",overflow:"hidden","user-select":"none","touch-action":"none",padding:"0px"},"background-image: url('/tag_bg/"+n.group.bg+"_scale.png')"]},[P("div",Tt,[o.loading_spine?(L(),B("img",{key:0,id:"loading_circle",src:"/image_loading.svg",style:{"margin-top":"155px"}},null,8,["src"])):D("",!0)]),P("div",Mt,[At,n.monster_mode?D("",!0):(L(),B("div",Lt,[o.enabledSkin?(L(!0),B(q,{key:1},I(n.skins,((e,t)=>M((L(),B("img",{id:"skin_sta"+t,key:"cg_"+t,src:"/pet_cg/"+e.cg+"_scale.png",width:"2048",height:"2048"},null,8,["id","src"])),[[A,e.aircraft==o.selectedSkin.aircraft]]))),128)):(L(!0),B(q,{key:0},I(n.grade,((e,t)=>M((L(),B("img",{id:"sta"+t,key:"cg_"+t,src:"/pet_cg/"+e.cg+"_scale.png",width:"2048",height:"2048"},null,8,["id","src"])),[[A,e.grade==o.selectedAs]]))),128))])),n.monster_mode?(L(),B("div",Bt)):D("",!0)]),Pt,P("span",Wt,[o.panzoom?(L(),B("button",{key:0,id:"enable-on",type:"submit",class:"enable-button",onClick:t[5]||(t[5]=(...e)=>i.enableOnClick&&i.enableOnClick(...e))},[P("i",{class:"fas fa-search-plus fa-2x "+(o.offsetWidth<768?"fa-4x":"")},null,2)])):D("",!0),o.panzoom?(L(),B("button",{key:1,id:"enable-off",type:"submit",class:"enable-button",style:{display:"none"},onClick:t[6]||(t[6]=(...e)=>i.enableOffClick&&i.enableOffClick(...e))},[P("i",{class:"fas fa-search-minus fa-2x "+(o.offsetWidth<768?"fa-4x":"")},null,2)])):D("",!0),P("button",jt,[P("i",{class:"fas fa-sync-alt fa-2x "+(o.offsetWidth<768?"fa-4x":"")},null,2)]),M(P("button",{ref:"info",type:"submit",class:"info-button",onClick:t[7]||(t[7]=(...e)=>i.startSkinCg&&i.startSkinCg(...e))},[P("i",{class:"fas fa-image fa-2x "+(o.offsetWidth<768?"fa-4x":"")},null,2)],512),[[A,o.enabledSkin&&o.selectedSkin.skin_cg]]),o.panzoom?(L(),B("button",{key:2,id:"dyn-on",type:"submit",class:"dyn-button",onClick:t[8]||(t[8]=(...e)=>i.dynOnClick&&i.dynOnClick(...e))},[n.monster_mode?D("",!0):(L(),B("i",{key:0,class:"fas fa-toggle-off fa-2x "+(o.offsetWidth<768?"fa-4x":"")},null,2))])):D("",!0),P("button",{id:"dyn-off",type:"submit",class:"dyn-button",style:{display:"none"},onClick:t[9]||(t[9]=(...e)=>i.dynOffClick&&i.dynOffClick(...e))},[P("i",{class:"fas fa-toggle-on fa-2x "+(o.offsetWidth<768?"fa-4x":"")},null,2)])]),n.monster_mode?D("",!0):(L(),B("span",Dt,[(L(!0),B(q,null,I(n.grade.length,((e,t)=>(L(),B("div",{key:"juexing_"+t,onClick:e=>i.computeJuexing(t)},[P("input",{id:"juexing"+t,type:"button",style:"background-image: url(/spine_view/spirit_juexing"+(n.grade.length-1)+"_big"+t+".png); "+(t!=o.selectedAs?"filter: opacity(0.25)":"")},null,12,["id"]),Ht],8,["onClick"])))),128))])),n.monster_mode?D("",!0):(L(),B("span",Vt,[P("img",{src:"/spine_view/prof_"+n.prof.id+".png"},null,8,["src"]),P("span",null,ne(n.prof.name),1)])),n.monster_mode?D("",!0):(L(),B("span",qt,[P("img",{id:"main",src:"/element_icon/element_"+n.elements[0]+".png"},null,8,["src"]),0!=n.elements[1]?M((L(),B("img",It,null,512)),[[A,o.selectedAs>=3],[s,"/element_icon/element_"+n.elements[1]+".png"]]):D("",!0)])),n.monster_mode?D("",!0):(L(),B("span",Nt,[(L(!0),B(q,null,I(n.star,(e=>(L(),B("img",{key:"star_"+e,src:"/spine_view/rarity_star.png"},null,8,["src"])))),128))])),P("span",Rt,[P("span",{style:"display: block; font-size:"+i.fontSizeCalc(n.char_i18n_name)},ne(n.char_i18n_name),5),n.char_i18n_name.toUpperCase()!=n.char_en_name?(L(),B("span",Ut,ne(n.char_en_name),1)):D("",!0)]),n.elements?(L(),B("span",{key:4,class:"bar",style:i.checkBarColor()},null,4)):D("",!0),n.monster_mode?D("",!0):(L(),B("span",Yt,[n.group&&n.group.icon?M((L(),B("img",Xt,null,512)),[[s,"/pet_logo/"+n.group.icon+"_scale.png"]]):D("",!0)])),n.skins?(L(),B("div",{key:6,class:"skins",onMouseenter:t[11]||(t[11]=(...e)=>i.skinsHoverOn&&i.skinsHoverOn(...e)),onMouseleave:t[12]||(t[12]=(...e)=>i.skinsHoverOff&&i.skinsHoverOff(...e)),onTouchmove:t[13]||(t[13]=(...e)=>i.skinsHoverOn&&i.skinsHoverOn(...e)),onTouchend:t[14]||(t[14]=(...e)=>i.skinsHoverOff&&i.skinsHoverOff(...e))},[P("div",{class:"skins_scroll",onScroll:t[10]||(t[10]=(...e)=>i.skinsHoverOn&&i.skinsHoverOn(...e))},[(L(!0),B(q,null,I(n.skins,(e=>(L(),B("div",{key:e.icon,class:"skin",onClick:t=>i.showSkin(n.elements[0],e)},[M(P("img",null,null,512),[[s,"/pet_aircraft_body/"+e.aircraft+"_scale.png"]]),P("div",null,[P("span",{class:"skin_name",style:"tw"!=o.game_lang?"-webkit-text-stroke-width: medium;":"-webkit-text-stroke-width: unset;"},ne(e.name),5)])],8,["onClick"])))),128))],32),Ft],32)):D("",!0),n.monster_mode?D("",!0):(L(),B("span",Kt,[o.enabledSkin?(L(),B("span",Zt,ne(n.ui.outfit),1)):(L(),B("span",Gt,ne(n.ui.profile),1)),n.group?(L(),B("span",Jt,ne(o.enabledSkin?o.selectedSkin.version:n.group.name),1)):D("",!0),Qt,P(l,{"max-height":"130px"},{default:$t((()=>[ae(ne(o.enabledSkin?o.selectedSkin.design_str:n.profile),1)])),_:1})]))],4)],64)}));Ct.render=en,Ct.__scopeId="data-v-4aeed47c";const tn={name:"Communication",props:{data:Array,id:Number,name:String,showall:Boolean,hideall:Boolean},mounted(){$('td>div>div>[class^="next-"]:nth-child(5)').css("display","none"),$('.answer>div>div[class="navigator"]>[class^="next-"]').css("display","none"),$('[class$="-answer"]').css("display","none")},methods:{transColor(e){if(null!=e)return e=(e=e.replace(/<color=#(.*?)>(.*?)<\/color>/g,(function(e,t,n){return'<span style="color: #'+t+';">'+n+"</span>"}))).replace(/<#(.*?)>(.*?)<\/color>/g,(function(e,t,n){return'<span style="color: #'+t+';">'+n+"</span>"}))},showNextWord(e,t,n){console.log(t+"-answer"),$(event.target).parent().find((n?".hide-":".show-")+t+"-"+(e||"answer")).css("display","block"),$(event.target).css("display","none"),$(event.target).parent().find(e?".next-"+e:"."+t+"-answer").toggle(250)},playCommHca(e){const t=window.AudioContext||window.webkitAudioContext||!1;t?le("/criware/"+e.acb+"/"+e.cue+".hca",{responseType:"arraybuffer"}).then((e=>{let n=O.Buffer.from(e.data),a=se.decodeHcaToWav(n,"1564789515523",0,void 0,void 0),o=new t;o.resume().then((()=>{o.decodeAudioData(a.buffer).then((e=>{let t=o.createBufferSource();t.connect(o.destination),t.buffer=e,t.start()}))}))})):alert(this.$i18n.t("error.web_audio_api_not_supported"))}}},nn={key:0},an=ae(" "),on={key:1,style:{color:"yellow","margin-right":"5px"}},rn=P("hr",null,null,-1),ln={key:4},sn={style:{"font-weight":"bolder"}};tn.render=function(e,t,n,a,o,i){const r=oe("Communication",!0),l=oe("el-divider");return L(),B("div",{set:e.nowWord=n.data.find((e=>e.id==n.id))},[P("div",{class:e.nowWord.navigator?"navigator":""},[P("p",{style:"padding:0 5px; text-align: "+(e.nowWord.navigator?"right":"left")},[e.nowWord.voice?(L(),B("span",nn,[P("i",{class:"fas fa-play-circle",style:{cursor:"pointer","margin-top":"-2px",color:"yellow"},onClick:t[1]||(t[1]=t=>i.playCommHca(e.nowWord.voice))}),an])):D("",!0),e.nowWord.navigator?D("",!0):(L(),B("span",on,ne(n.name)+":",1)),P("span",{innerHTML:i.transColor(e.nowWord.voice?e.nowWord.voice.content:e.nowWord.word)},null,8,["innerHTML"])],4),e.nowWord.navigator&&(e.nowWord.next||e.nowWord.answer)?(L(),B("i",{key:0,class:"show-"+e.nowWord.id+"-"+(e.nowWord.next?e.nowWord.next:"answer")+" fas fa-caret-down",onClick:t[2]||(t[2]=t=>i.showNextWord(e.nowWord.next?e.nowWord.next:null,e.nowWord.id,!0))}," ["+ne(e.$t("aurorian.comm_show"))+"] ",3)):D("",!0),e.nowWord.navigator&&(e.nowWord.next||e.nowWord.answer)?(L(),B("i",{key:1,style:{display:"none"},class:"hide-"+e.nowWord.id+"-"+(e.nowWord.next?e.nowWord.next:"answer")+" fas fa-caret-up",onClick:t[3]||(t[3]=t=>i.showNextWord(e.nowWord.next?e.nowWord.next:null,e.nowWord.id,!1))}," ["+ne(e.$t("aurorian.comm_hide"))+"] ",3)):D("",!0),rn,e.nowWord.answer?(L(),B("div",{key:2,class:e.nowWord.navigator?e.nowWord.id+"-answer":""},[(L(!0),B(q,null,I(e.nowWord.answer,(e=>(L(),B("div",{key:"answer_"+e.id,class:"answer"},[P(r,{id:e,key:"rec_com_"+e,data:n.data,name:n.name},null,8,["id","data","name"])])))),128))],2)):D("",!0),e.nowWord.next?(L(),B("div",{key:3,class:"next-"+e.nowWord.next},[P(r,{id:e.nowWord.next,data:n.data,name:n.name},null,8,["id","data","name"])],2)):D("",!0),0==e.nowWord.next?(L(),B("div",ln,[P(l,null,{default:F((()=>[P("span",sn,ne(e.$t("aurorian.comm_end")),1)])),_:1})])):D("",!0)],2)],8,["set"])};var dn=void 0,un=function(){dn&&dn.stop()},cn=function(e,t){le({url:e,responseType:"arraybuffer"}).then((e=>{let n=O.Buffer.from(e.data),a=se.decodeHcaToWav(n,"1564789515523",0,void 0,void 0);St.exports.saveAs(new Blob([a],{type:"audio/x-wav"}),t)}))},pn=function(e,t,n,a){$("#voice_play_"+n+"_"+a).attr("class","fas fa-stop-circle fa-2x"),dn&&dn.stop(),le({url:t,responseType:"arraybuffer"}).then((t=>{let o=O.Buffer.from(t.data),i=se.decodeHcaToWav(o,"1564789515523",0,void 0,void 0);e.resume().then((()=>{e.decodeAudioData(i.buffer).then((t=>{(dn=e.createBufferSource()).onended=function(){$("#voice_play_"+n+"_"+a).attr("class","fas fa-play-circle fa-2x")},dn.connect(e.destination),dn.buffer=t,dn.start()}))}))}))};const fn={components:{SpineView:Ct,Communication:tn,Category:de},inject:["socket","moment","format"],data:()=>({aurorian:void 0,skills:void 0,awakening:void 0,equip:void 0,grade_cost:void 0,voice_table:void 0,comm_table:void 0,furn:void 0,conversation:void 0,audio_context:void 0,unsupport_audio:!1,now_level:1,now_ascension:0,now_equipment:1,now_affinity:1,now_breakthrough:0,base_data:{atk:0,def:0,hp:0},skill_type:["normal","active","passive","chain1","chain2","chain3","work1","work2","work3"],href_table:{}}),computed:{tale_task_max:function(){let e=0;if(this.aurorian.tale_task)for(let t of this.aurorian.tale_task.tasks)t.phase>e&&(e=t.phase);return e}},watch:{$route(e){this.aurorian=void 0,"AurorianIdData"==e.name&&(this.initPage(e.params.petId),document.body.scrollTop=document.documentElement.scrollTop=0)}},beforeUnmount(){un()},updated(){$(".tippy").each((function(e,t){tippy(t.children[1],{content:t.children[0],arrow:!0})}))},mounted(){let e=this;this.href_table.callback=function(t){e.socket.emit("get_href_desc",[parseInt(t),localStorage.getItem("game_lang")],(function(n){e.href_table[t]=n}))},this.initPage(this.$route.params.petId)},methods:{initPage(e){let t=this;re(Z((()=>t.aurorian?{subtitle:t.aurorian.name,keywords:[t.aurorian.name,t.aurorian.en_name,t.aurorian.nickname].join(","),description:t.aurorian.name+", "+t.aurorian.desc,og:{image:"https://asdb.kengxxiao.com/item_icon/"+t.aurorian.icon+"_scale.png",description:t.aurorian.name+", "+t.aurorian.desc,title:t.aurorian.name+" - "+t.$i18n.t("title")},twitter:{title:t.aurorian.name+" - "+t.$i18n.t("title"),description:t.aurorian.name+", "+t.aurorian.desc}}:{})),this.$metaManager);const n=localStorage.getItem("game_lang");this.socket.emit("get_cfg_pet",[e,n],(function(e){0!=e.draw_card.length&&e.draw_card.forEach((e=>{if(!e.open)return;const t=new Date(e.open),n=new Date(e.close);e.open=new Date(t-6e4*t.getTimezoneOffset()),e.open<16239024e5&&(e.open=16239024e5),e.close=new Date(n-6e4*n.getTimezoneOffset())})),t.aurorian=e,t.socket.emit("get_pet_skills",[e.id,n],(function(e){t.skills=e})),t.socket.emit("get_pet_awakening",[e.id,n],(function(e){t.awakening=e})),t.socket.emit("get_pet_equip",[e.id,n],(function(e){t.equip=e})),t.socket.emit("get_pet_grade_cost",[e.id,n],(function(e){t.grade_cost=e})),t.socket.emit("get_pet_voice",[e.id,n],(function(e){t.voice_table=e})),t.socket.emit("get_pet_comm",[e.id,n],(function(e){t.comm_table=e})),t.socket.emit("get_pet_furn",[e.id,n],(function(e){t.furn=e})),t.socket.emit("get_aircraft_chat",[e.id,n],(function(e){t.conversation=e}))})),window.addEventListener("resize",(function(){if(window.innerWidth<=768){if(!$("#astatus").hasClass("active")){const e=100-window.innerHeight;$("#astatus").css({top:e})}}else $("#astatus").removeClass(),$("#astatus").css({top:"60px"})}))},downloadHcaFile(e,t,n,a){cn("/criware/"+e+"/"+t+".hca",this.aurorian.name+"_"+n+"_"+(a+1)+".wav")},playHcaFile(e,t,n,a){if(-1!=$("#voice_play_"+n+"_"+a).attr("class").indexOf("stop"))return void un();const o=window.AudioContext||window.webkitAudioContext||!1;o?this.audio_context=new o:this.unsupport_audio=!0,this.unsupport_audio?alert(this.$i18n.t("error.web_audio_api_not_supported")):pn(this.audio_context,"/criware/"+e+"/"+t+".hca",n,a)},showAllWords(e,t){$("#comm_table_"+e+' td>div>div>[class^="next-"]:nth-child(5)').css("display",t?"block":"none"),$("#comm_table_"+e+' .answer>div>div[class="navigator"]>[class^="next-"]').css("display",t?"block":"none"),$("#comm_table_"+e+' [class$="-answer"]').css("display",t?"block":"none"),$("#comm_table_"+e+' i[class^="hide-"]').css("display",t?"block":"none"),$("#comm_table_"+e+' i[class^="show-"]').css("display",t?"none":"block")},showStatus(){if($("#astatus").hasClass("active")){var e=100-window.innerHeight;$("#astatus").toggleClass("active"),$("#astatus").animate({top:e}),$(".hideStatus").css({display:"none"})}else $("#astatus").toggleClass("active"),$("#astatus").animate({top:"60px"}),$(".hideStatus").css({display:"block"})}}},mn={key:0,id:"body"},hn={id:"aall"},gn={id:"face",height:"128"},vn={class:"auname"},yn=P("br",null,null,-1),bn={class:"auname"},wn={class:"elements"},xn={key:0},kn={key:1},_n={id:"data"},Sn=P("hr",null,null,-1),Cn={key:0},$n={key:0},On={key:0},En={key:0},zn=P("br",null,null,-1),Tn=P("br",null,null,-1),Mn=P("br",null,null,-1),An={style:{"font-size":"10pt"}},Ln={style:{"font-weight":"bold","font-size":"14pt",padding:"0 10px"}},Bn=P("i",{class:"fas fa-2x fa-chevron-down",style:{float:"right"}},null,-1),Pn={id:"toc"},Wn={id:"aprofile"},jn=P("hr",null,null,-1),Dn={key:0},Hn={key:0,style:{"font-size":"14pt",padding:"5px","text-align":"left"}},Vn={key:1},qn={style:{width:"100px",height:"100px",border:"1px solid"}},In={style:{width:"100px",height:"100px","vertical-align":"middle"}},Nn={style:{"font-size":"14pt",border:"1px solid","text-align":"center","vertical-align":"middle"}},Rn={colspan:"2",style:{border:"1px solid",width:"1000px",padding:"0 5px"}},Un={key:0},Yn={key:0,style:{color:"yellow"}},Xn=P("br",null,null,-1),Fn={key:2},Kn={colspan:"2",style:{border:"1px solid",width:"1200px"}},Gn=P("br",null,null,-1),Zn={key:2},Jn=P("hr",null,null,-1),Qn={colspan:"2",style:{width:"600px",border:"1px solid",padding:"0 5px","font-size":"14pt"}},ea={rowspan:"2",style:{width:"70%",border:"1px solid",padding:"0 5px","vertical-align":"middle"}},ta={style:{margin:"0","padding-inline-start":"20px"}},na={style:{"text-align":"center",border:"1px solid",padding:"0 5px"}},aa={style:{"text-align":"center",border:"1px solid","padding-top":"5px","vertical-align":"middle"}},oa={style:{width:"64px"}},ia=P("br",null,null,-1),ra={style:{"font-size":"10pt"}},la={key:3},sa=P("hr",null,null,-1),da={rowspan:"2",style:{border:"1px solid",padding:"5px","vertical-align":"middle"}},ua={width:"128",height:"128"},ca={style:{border:"1px solid",padding:"5px","text-align":"center","vertical-align":"middle"}},pa={style:{border:"1px solid",padding:"5px"}},fa=P("hr",null,null,-1),ma={key:0},ha={colspan:"4",style:{"font-size":"14pt",border:"1px solid",width:"800px","padding-left":"5px"}},ga=P("hr",null,null,-1),va=ae(),ya=P("hr",null,null,-1),ba={style:{width:"75px"}},wa=P("hr",null,null,-1),xa={key:4},ka={style:{"font-size":"14pt",border:"1px solid",width:"33%","text-align":"center",padding:"0 5px"}},_a={key:0},Sa={key:0,style:{width:"80px","padding-top":"20px"}},Ca={key:1,style:{width:"75px","padding-top":"10px"}},$a={key:1},Oa={style:{width:"100px","padding-top":"15px"}},Ea=P("hr",null,null,-1),za=P("hr",null,null,-1),Ta={style:{height:"75px"}},Ma={colspan:"3",style:{"vertical-align":"middle",border:"1px solid","padding-left":"5px",width:"400px"}},Aa={key:0},La=P("br",null,null,-1),Ba={key:2},Pa=P("hr",null,null,-1),Wa={style:{border:"1px #fff solid",width:"30%"}},ja={rowspan:"3",style:{border:"1px #fff solid","vertical-align":"middle",padding:"5px"}},Da={style:{border:"1px #fff solid",padding:"5px"}},Ha={style:{width:"75px"}},Va={style:{border:"1px #fff solid"}},qa=P("hr",null,null,-1),Ia={style:{"max-width":"600px"}},Na={colspan:"2",style:{"font-size":"16pt","text-align":"center",width:"600px",border:"1px solid"}},Ra={colspan:"2",style:{"text-align":"center",border:"1px solid"}},Ua={style:{width:"260px"}},Ya=P("br",null,null,-1),Xa={style:{"text-align":"left","padding-left":"5px",float:"left"}},Fa={key:0},Ka={style:{width:"100px",height:"100px",border:"1px solid"}},Ga={style:{width:"100px",height:"100px"}},Za={style:{"font-size":"14pt",border:"1px solid","text-align":"center","vertical-align":"middle"}},Ja={key:1},Qa={style:{"text-align":"center",border:"1px solid",width:"50%"}},eo={style:{border:"1px solid",width:"50%",padding:"5px","vertical-align":"middle"}},to={key:0,style:{"vertical-align":"middle"},width:"24",height:"24"},no={key:1,style:{"vertical-align":"middle"},width:"24",height:"24"},ao=ae("  "),oo=P("br",null,null,-1),io={key:0,style:{"border-spacing":"0",width:"100%"}},ro=P("hr",null,null,-1),lo=ae(),so=P("hr",null,null,-1),uo={style:{width:"80px",height:"80px"}},co=P("hr",null,null,-1),po={width:"300",height:"100"},fo={style:{color:"yellow"}},mo=P("hr",null,null,-1),ho={key:7},go={style:{"max-width":"700px"}},vo={style:{width:"700px",border:"1px solid #fff",padding:"5px",color:"yellow"}},yo={style:{"white-space":"pre-line",width:"700px",border:"1px solid #fff",padding:"5px"}},bo={colspan:"3",style:{width:"700px",border:"1px solid #fff",padding:"5px",color:"yellow"}},wo={key:0,style:{width:"50px",border:"1px solid #fff","vertical-align":"middle"}},xo={style:{"white-space":"pre-line",width:"600px",border:"1px solid #fff",padding:"5px"}},ko={key:0,style:{color:"gray"}},_o=P("br",null,null,-1),So={key:1,style:{width:"50px",border:"1px solid #fff","vertical-align":"middle"}},Co={key:0,style:{"max-width":"700px"}},$o={style:{width:"700px",border:"1px solid #fff",padding:"5px",color:"yellow"}},Oo={style:{"white-space":"pre-line",width:"600px",border:"1px solid #fff",padding:"5px"}},Eo={key:1,style:{"max-width":"700px"}},zo={style:{width:"700px",border:"1px solid #fff",padding:"5px",color:"yellow"}},To={style:{"white-space":"pre-line",width:"600px",border:"1px solid #fff",padding:"5px"}},Mo={key:8},Ao={key:9},Lo={style:{"max-width":"800px","margin-bottom":"5px"}},Bo={colspan:"2",style:{width:"800px",border:"1px solid",padding:"5px"}},Po={style:{"font-weight":"bold"}},Wo={style:{width:"50%",border:"1px solid",padding:"5px"}},jo={style:{"font-weight":"bold"}},Do=ae(" :"),Ho=P("br",null,null,-1),Vo={key:0},qo={key:1},Io={key:0},No={style:{border:"1px solid",padding:"5px"}},Ro={style:{"font-weight":"bold"}},Uo=ae(" :"),Yo=P("br",null,null,-1),Xo={key:0},Fo={key:1},Ko={key:0},Go={colspan:"2",style:{border:"1px solid",padding:"5px"}},Zo={style:{"font-weight":"bold"}},Jo=ae(" : "),Qo={colspan:"2",style:{border:"1px solid #fff","max-width":"800px",padding:"10px"}},ei={style:{display:"flex","flex-direction":"row"}},ti={key:10},ni=P("hr",null,null,-1),ai={style:{border:"1px solid","max-width":"800px"}},oi={style:{padding:"2px"}},ii={style:{color:"yellow"}},ri=P("br",null,null,-1);fn.render=function(e,t,n,a,o,i){const r=oe("el-slider"),l=oe("el-tab-pane"),s=oe("el-tabs"),d=oe("el-scrollbar"),u=oe("Category"),c=oe("SpineView"),p=oe("el-button"),f=oe("Communication"),m=ie("lazy");return o.aurorian?(L(),B("div",mn,[P("div",hn,[P("div",{class:"hideStatus",onClick:t[1]||(t[1]=(...e)=>i.showStatus&&i.showStatus(...e))}),P(d,{id:"astatus"},{default:F((()=>[M(P("img",gn,null,512),[[m,"../item_icon/"+o.aurorian.icon+"_scale.png"]]),P("span",vn,ne(o.aurorian.nickname),1),yn,P("span",bn,ne(o.aurorian.name),1),P("span",wn,[o.aurorian.star<=3?(L(),B("span",xn,[P("img",{src:"/element_icon/element_"+o.aurorian.elements[0]+".png",style:{height:"40px"}},null,8,["src"])])):(L(),B("span",kn,[P("img",{src:"/element_icon/element_"+o.aurorian.elements[0]+".png",style:{height:"40px"}},null,8,["src"]),3==o.now_ascension&&0!=o.aurorian.elements[1]?(L(),B("img",{key:0,src:"/element_icon/element_"+o.aurorian.elements[1]+".png",style:{height:"30px"}},null,8,["src"])):D("",!0)]))]),P("div",_n,[Sn,P("span",null,ne(e.$t("aurorian.level"))+" "+ne(o.now_level),1),P(r,{modelValue:o.now_level,"onUpdate:modelValue":t[2]||(t[2]=e=>o.now_level=e),max:o.aurorian.level.filter((e=>e.grade==o.now_ascension)).length,min:1},null,8,["modelValue","max"]),P("span",null,ne(e.$t("aurorian.ascension"))+" "+ne(o.now_ascension),1),P(r,{modelValue:o.now_ascension,"onUpdate:modelValue":t[3]||(t[3]=e=>o.now_ascension=e),max:3==o.aurorian.star?2:3},null,8,["modelValue","max"]),P("span",null,ne(e.$t("aurorian.equipment"))+" "+ne(o.now_equipment),1),P(r,{modelValue:o.now_equipment,"onUpdate:modelValue":t[4]||(t[4]=e=>o.now_equipment=e),disabled:o.now_ascension<1,min:o.now_ascension>=1?1:0,max:o.now_ascension>=1?o.aurorian.equip.length:0},null,8,["modelValue","disabled","min","max"]),P("span",null,ne(e.$t("aurorian.breakthrough"))+" "+ne(o.now_breakthrough),1),P(r,{modelValue:o.now_breakthrough,"onUpdate:modelValue":t[5]||(t[5]=e=>o.now_breakthrough=e),max:o.aurorian.awakening.length},null,8,["modelValue","max"]),P("span",null,ne(e.$t("aurorian.affinity"))+" "+ne(o.now_affinity),1),P(r,{modelValue:o.now_affinity,"onUpdate:modelValue":t[6]||(t[6]=e=>o.now_affinity=e),max:o.aurorian.affinity.length,min:1},null,8,["modelValue","max"]),P("span",null,ne(o.aurorian.affinity.find((e=>e.level==o.now_affinity)).str),1),P(s,null,{default:F((()=>[P(l,{label:e.$t("aurorian.comm_data")},{default:F((()=>[(L(!0),B(q,null,I(Object.keys(o.base_data),(t=>(L(),B("span",{key:"aurorian_"+t},[ae(ne(e.$t("aurorian."+t))+": "+ne(o.aurorian.level.find((e=>e.level==o.now_level&&e.grade==o.now_ascension))[t]+(o.aurorian.grade.find((e=>e.grade==o.now_ascension))||o.base_data)[t])+" ",1),0!=o.now_equipment?(L(),B("span",Cn," (+"+ne(o.aurorian.equip.find((e=>e.level==o.now_equipment))[t])+") ",1)):D("",!0),P("span",{set:e.affData=o.aurorian.affinity.find((e=>e.level==o.now_affinity))},[e.affData[t]>0?(L(),B("span",$n," (+"+ne(e.affData[t])+") ",1)):D("",!0)],8,["set"]),P("span",{set:e.awakData=o.aurorian.awakening.find((e=>e.awakening==o.now_breakthrough))},[0!=o.now_breakthrough&&0!=e.awakData[t]?(L(),B("span",On,[ae(" (+"+ne(e.awakData[t])+") ",1),0!=e.awakData[t+"_percent"]?(L(),B("span",En,"(+"+ne(e.awakData[t+"_percent"])+"%"+ne(e.$t("aurorian.base_"+t))+")",1)):D("",!0)])):D("",!0)],8,["set"]),zn])))),128))])),_:1},8,["label"]),P(l,{label:o.aurorian.maze.name},{default:F((()=>[P("span",null,ne(e.$t("aurorian.atk"))+": "+ne(o.aurorian.maze.atk),1),Tn,P("span",null,ne(e.$t("aurorian.def"))+": "+ne(o.aurorian.maze.def),1),Mn,P("span",null,ne(e.$t("aurorian.hp"))+": "+ne(o.aurorian.maze.hp),1)])),_:1},8,["label"])])),_:1}),P("p",An,ne(e.$t("aurorian.change_tip")),1),P("div",{class:"showStatus",onTouchstart:t[7]||(t[7]=(...e)=>i.showStatus&&i.showStatus(...e))},[P("span",Ln,ne(e.$t("aurorian.show_status")),1),Bn],32)])])),_:1}),P("div",Pn,[P(u)]),P("div",Wn,[o.aurorian?(L(),B(c,{key:o.aurorian.id,char_i18n_name:o.aurorian.name,char_en_name:o.aurorian.en_name,star:o.aurorian.star,grade:o.aurorian.grade,elements:o.aurorian.elements,prof:o.aurorian.prof,profile:o.aurorian.desc,group:o.aurorian.group,ui:o.aurorian.ui,skins:o.aurorian.skins},null,8,["char_i18n_name","char_en_name","star","grade","elements","prof","profile","group","ui","skins"])):D("",!0),P("h2",null,ne(e.$t("aurorian.skills")),1),jn,o.skills?(L(),B("table",{key:1,set:e.target=o.skills.skills.find((e=>e.awakening==o.now_breakthrough&&e.grade==o.now_ascension))},[(L(!0),B(q,null,I(o.skill_type,(t=>(L(),B("div",{key:t},[null!=e.target[t]&&0!=e.target[t]?(L(),B("div",{key:0,set:e.targetSkill=o.skills[-1==t.indexOf("work")?"battle_skills":"work_skills"].find((n=>n.id==e.target[t]))},[1!=e.targetSkill.trigger_type?(L(),B("div",Dn,[-1==t.indexOf("n2")&&-1==t.indexOf("n3")?(L(),B("caption",Hn,ne(e.$t("aurorian.skill."+t)),1)):D("",!0),-1==t.indexOf("n2")&&-1==t.indexOf("n3")?(L(),B("tr",Vn,[P("td",qn,[M(P("img",In,null,512),[[m,"/skill_icon/"+e.targetSkill.icon+"_scale.png"]])]),P("th",Nn,ne(e.targetSkill.name),1)])):D("",!0),P("tr",null,[P("td",Rn,[-1==t.indexOf("work")?(L(),B("span",Un,[ae(ne(e.$t("aurorian.skill.trigger_type"))+": "+ne(e.$t("aurorian.skill.trigger."+e.targetSkill.trigger_type))+" "+ne(e.targetSkill.trigger_param),1),e.target.preemptive&&-1!=t.indexOf("active")?(L(),B("span",Yn," "+ne(e.$t("aurorian.skill.preemptive")),1)):D("",!0),Xn])):D("",!0),P("span",{innerHTML:i.format(e.targetSkill.desc||"",e.targetSkill.effect_table,o.href_table)},null,8,["innerHTML"])])]),"chain2"==t&&"chain3"==t?(L(),B("tr",Fn,[P("td",Kn,[P("span",null,ne(e.$t("aurorian.skill.trigger_type"))+": "+ne(e.$t("aurorian.skill.trigger."+e.targetSkill.trigger_type))+" "+ne(e.targetSkill.trigger_param),1),Gn,P("span",{innerHTML:i.format(e.targetSkill.desc||"",e.targetSkill.effect_table,o.href_table)},null,8,["innerHTML"])])])):D("",!0)])):D("",!0)],8,["set"])):D("",!0)])))),128))],8,["set"])):D("",!0),o.aurorian.tale_task?(L(),B("div",Zn,[P("h2",null,ne(e.$t("aurorian.tale_task")),1),Jn,(L(!0),B(q,null,I(i.tale_task_max,(t=>(L(),B("table",{key:"tale_task_"+t},[P("th",Qn,ne(e.$t("aurorian.tale_task_phase"))+ne(t),1),P("tr",{style:{width:"600px"},set:(e.task=o.aurorian.tale_task.tasks.filter((e=>e.phase==t)),e.reward=o.aurorian.tale_task.task_reward.find((e=>e.phase==t)))},[P("td",ea,[P("ul",ta,[(L(!0),B(q,null,I(e.task,((e,n)=>(L(),B("li",{key:"tale_task_"+t+"_"+n},ne(e.desc),1)))),128))])]),P("td",na,ne(e.$t("aurorian.item_reward")),1)],8,["set"]),P("tr",null,[P("td",aa,[M(P("img",oa,null,512),[[m,"/item_icon/"+e.reward.icon+"_scale.png"]]),ia,P("span",ra,ne(e.reward.name)+" * "+ne(e.reward.count),1)])])])))),128))])):D("",!0),o.furn&&0!=o.furn.length?(L(),B("div",la,[P("h2",null,ne(e.$t("aurorian.dispatch_furn")),1),sa,(L(!0),B(q,null,I(o.furn,(e=>(L(),B("table",{key:"furn_"+e.name},[P("td",da,[M(P("img",ua,null,512),[[m,"/item_icon/"+e.icon+"_scale.png"]])]),P("th",ca,ne(e.item_name),1),P("tr",null,[P("td",pa,ne(e.item_intro),1)])])))),128))])):D("",!0),P("h2",null,ne(e.$t("aurorian.ascost_title")),1),fa,(L(!0),B(q,null,I(o.grade_cost,((t,n)=>(L(),B("div",{key:"ascost_"+n},[t.grade>0?(L(),B("table",ma,[P("th",ha,ne(e.$t("aurorian.ascension"))+" "+ne(t.grade),1),P("tr",null,[(L(!0),B(q,null,I(t.cost,((e,t)=>(L(),B("td",{key:"ascost_item_"+t,style:{border:"1px solid",width:"25%","text-align":"center","vertical-align":"bottom"}},[P("span",null,ne(e.name),1),ga,va,P("span",null,ne(e.consume),1),ya,M(P("img",ba,null,512),[[m,"/item_icon/"+e.icon+"_scale.png"]])])))),128))])])):D("",!0)])))),128)),P("h2",null,ne(e.$t("aurorian.breakthrough")),1),wa,o.awakening?(L(),B("div",xa,[(L(!0),B(q,null,I(o.awakening.awakening,(t=>(L(),B("table",{key:"aw_"+t.awakening,style:[o.now_breakthrough<t.awakening?"filter: opacity(0.5);":"",{"max-width":"400px"}]},[P("th",ka,[ae(ne(e.$t("aurorian.awakening"))+" "+ne(t.awakening)+" ",1),t.advdesc?(L(),B("span",_a,[4!=t.advdesc.icon?M((L(),B("img",Sa,null,512)),[[m,"/tupo_icon/tupo_icon"+t.advdesc.icon+".png"]]):M((L(),B("img",Ca,null,512)),[[m,"/element_icon/element_"+t.advdesc.element+".png"]])])):t.skill_icon?(L(),B("span",$a,[M(P("img",Oa,null,512),[[m,"/skill_icon/"+t.skill_icon+"_scale.png"]])])):D("",!0)]),(L(!0),B(q,null,I(t.cost,((e,t)=>(L(),B("td",{key:"awcost_"+t,style:{border:"1px solid","text-align":"center","vertical-align":"bottom"}},[ae(ne(e.name),1),Ea,ae(ne(e.consume),1),za,M(P("img",Ta,null,512),[[m,"/item_icon/"+e.icon+"_scale.png"]])])))),128)),P("tr",null,[P("td",Ma,[t.skill_name?(L(),B("span",Aa,[ae(ne(e.$t("aurorian.skill_enhance"))+": "+ne(t.skill_name),1),La])):D("",!0),t.desc?(L(),B("span",{key:1,innerHTML:i.format(t.desc,void 0,o.href_table)},null,8,["innerHTML"])):D("",!0),t.advdesc?(L(),B("span",Ba,[P("span",{innerHTML:i.format(t.advdesc.desc,void 0,o.href_table)},null,8,["innerHTML"])])):D("",!0)])])],4)))),128))])):D("",!0),P("h2",null,ne(e.$t("aurorian.favor_item")),1),Pa,(L(!0),B(q,null,I(o.aurorian.favor_item,((e,t)=>(L(),B("table",{key:"favor_item_"+t,style:{"max-width":"600px","text-align":"center"}},[P("tr",null,[P("th",Wa,ne(e.name),1),P("td",ja,ne(e.desc),1)]),P("tr",null,[P("td",Da,[M(P("img",Ha,null,512),[[m,"/item_icon/"+e.icon+"_scale.png"]])])]),P("tr",null,[P("td",Va,[P("span",null,"+"+ne(e.base)+" (+"+ne(e.ext)+")",1)])])])))),128)),0!=o.now_equipment&&null!=o.equip?(L(),B("div",{key:5,set:e.equipList=o.equip.equip.filter((e=>e.grade==o.now_ascension&&e.awakening==o.now_breakthrough))},[P("h2",null,ne(e.$t("aurorian.equip")),1),qa,P("table",Ia,[P("div",null,[P("th",Na,ne(o.equip.name),1),P("tr",null,[P("td",Ra,[M(P("img",Ua,null,512),[[m,"/equip_icon/"+o.equip.icon+"_scale.png"]]),Ya,P("span",Xa,ne(o.equip.intr),1)])]),o.equip.passive?(L(),B("tr",Fa,[P("td",Ka,[M(P("img",Ga,null,512),[[m,"/skill_icon/"+o.equip.passive.icon+"_scale.png"]])]),P("th",Za,ne(o.equip.passive.name),1)])):D("",!0),o.equip.passive?(L(),B("tr",Ja,[P("td",{colspan:"2",style:{width:"100px",border:"1px solid","padding-left":"5px"},innerHTML:i.format(o.equip.passive.desc,void 0,o.href_table)},null,8,["innerHTML"])])):D("",!0)]),(L(!0),B(q,null,I(e.equipList,(t=>(L(),B("div",{key:"eq_"+t.elevel,style:t.elevel!=o.now_equipment?"filter: opacity(0.5);":"",set:e.eqCost=o.equip.cost.find((e=>e.elevel==t.elevel))},[P("tr",null,[P("th",Qa,ne(e.$t("aurorian.equip_lv"))+" "+ne(t.elevel),1)]),P("tr",null,[P("td",eo,[t.desc?(L(),B("span",{key:0,innerHTML:i.format(t.desc,void 0,o.href_table)},null,8,["innerHTML"])):(L(!0),B(q,{key:1},I(t.advdesc,((e,t)=>(L(),B("span",{key:"eqadv_"+t},[4!=e.icon?M((L(),B("img",to,null,512)),[[m,"/tupo_icon/tupo_tubiao"+e.icon+"_icon.png"]]):M((L(),B("img",no,null,512)),[[m,"/element_icon/element_"+e.element+".png"]]),ao,P("span",{style:{"vertical-align":"middle"},innerHTML:i.format(e.desc,void 0,o.href_table)},null,8,["innerHTML"]),oo])))),128))])]),P("tr",null,[e.eqCost?(L(),B("div",io,[(L(!0),B(q,null,I(e.eqCost.consume,((e,t)=>(L(),B("td",{key:"eqcost_"+t,style:{border:"1px solid",width:"600px","text-align":"center","vertical-align":"bottom"}},[P("span",null,ne(e.name),1),ro,lo,P("span",null,ne(e.consume),1),so,M(P("img",uo,null,512),[[m,"/item_icon/"+e.icon+"_scale.png"]])])))),128))])):D("",!0)])],12,["set"])))),128))])],8,["set"])):D("",!0),0!=o.aurorian.draw_card.length?(L(),B(q,{key:6},[P("h2",null,ne(e.$t("aurorian.draw_card")),1),co,(L(!0),B(q,null,I(o.aurorian.draw_card,(e=>(L(),B("div",{key:e.icon},[M(P("img",po,null,512),[[m,"/main_caroursel/"+e.icon+"_scale.png"]]),P("p",null,[P("span",fo,ne(e.title),1),ae(" "+ne(i.moment(e.open).format("lll"))+" ~ "+ne(i.moment(e.close).format("lll"))+" ("+ne("UTC + "+i.moment().utcOffset()/60)+")",1)])])))),128))],64)):D("",!0),P("h2",null,ne(e.$t("aurorian.profile_and_voice")),1),mo,o.voice_table?(L(),B("div",ho,[P("h3",null,ne(e.$t("aurorian.pfile")),1),P("table",go,[(L(!0),B(q,null,I(Object.keys(o.voice_table.profile),(e=>(L(),B("div",{key:"profile_"+e},[P("th",vo,"• "+ne(e),1),P("tr",null,[P("td",yo,ne(o.voice_table.profile[e]),1)])])))),128))]),P("h3",null,ne(e.$t("aurorian.voice")),1),(L(!0),B(q,null,I(Object.keys(o.voice_table.voice),((e,t)=>(L(),B("table",{key:"voice_"+t,style:{"max-width":"700px"}},[P("th",bo,"• "+ne(e),1),(L(!0),B(q,null,I(o.voice_table.voice[e],((n,a)=>(L(),B("tr",{key:"voice_content_"+a},[n.cue_name?(L(),B("td",wo,[P("i",{id:"voice_play_"+t+"_"+a,class:"fas fa-play-circle fa-2x",style:{padding:"8px 8px 8px 8px",cursor:"pointer"},onClick:e=>i.playHcaFile(n.acb,n.cue_name,t,a)},null,8,["id","onClick"])])):D("",!0),P("td",xo,[ae(ne(n.content)+" ",1),n.condition?(L(),B("span",ko,[_o,ae(ne(n.condition),1)])):D("",!0)]),n.cue_name?(L(),B("td",So,[P("i",{class:"fas fa-download fa-2x",style:{padding:"8px 8px 8px 8px",cursor:"pointer"},onClick:t=>i.downloadHcaFile(n.acb,n.cue_name,e,a)},null,8,["onClick"])])):D("",!0)])))),128))])))),128)),o.aurorian.present?(L(),B("table",Co,[P("th",$o,"• "+ne(e.$t("aurorian.present")),1),P("tr",null,[P("td",Oo,ne(o.aurorian.present),1)])])):D("",!0),o.aurorian.visit?(L(),B("table",Eo,[P("th",zo,"• "+ne(e.$t("aurorian.visit")),1),P("tr",null,[P("td",To,ne(o.aurorian.visit),1)])])):D("",!0)])):D("",!0),0!=o.comm_table?(L(),B("h2",Mo,ne(e.$t("aurorian.comm")),1)):D("",!0),0!=o.comm_table?(L(),B("hr",Ao)):D("",!0),(L(!0),B(q,null,I(o.comm_table,((t,n)=>(L(),B("div",{id:"comm_table_"+n,key:"comm_"+n},[P("h3",null,ne(e.$t("aurorian.comm_index"))+ne(n+1),1),P("table",Lo,[P("tr",null,[P("td",Bo,[P("span",Po,ne(e.$t("condition.trigger_type")),1),ae(" : "+ne(e.$t("condition.trigger."+t.trigger.type)),1)])]),P("tr",null,[P("td",Wo,[P("span",jo,ne(e.$t("condition.enable_condition")),1),Do,Ho,(L(!0),B(q,null,I(t.trigger.enable_condition,((t,n)=>(L(),B("span",{key:"enable_condition_"+n},[t.startsWith("condition.")?(L(),B("span",Vo,ne(e.$t(t)),1)):(L(),B("span",qo,ne(t),1))])))),128)),t.trigger.enable_condition?D("",!0):(L(),B("span",Io,"N/A"))]),P("td",No,[P("span",Ro,ne(e.$t("condition.trigger_condition")),1),Uo,Yo,(L(!0),B(q,null,I(t.trigger.trigger_condition,((t,n)=>(L(),B("span",{key:"trigger_condition_"+n},[t.startsWith("condition.")?(L(),B("span",Xo,ne(e.$t(t)),1)):(L(),B("span",Fo,ne(t),1))])))),128)),t.trigger.trigger_condition?D("",!0):(L(),B("span",Ko,"N/A"))])]),P("tr",null,[P("td",Go,[P("span",Zo,ne(e.$t("aurorian.item_reward")),1),Jo,(L(!0),B(q,null,I(t.rewards,((e,t)=>(L(),B("span",{key:"comm_"+n+"_reward_"+t},ne(e.name)+" + "+ne(e.amount),1)))),128))])]),P("tr",null,[P("td",Qo,[P("div",ei,[(L(),B(q,null,I([!0,!1],(t=>P(p,{key:"cbtn_"+t,style:{width:"50%",height:"25px",top:"60px",position:"sticky"},onClick:e=>i.showAllWords(n,t)},{default:F((()=>[ae(ne(t?e.$t("aurorian.comm_showall"):e.$t("aurorian.comm_hideall")),1)])),_:2},1032,["onClick"]))),64))]),P(f,{id:t.first,data:t.data,name:o.aurorian.name},null,8,["id","data","name"])])])])],8,["id"])))),128)),o.conversation&&0!=o.conversation.length?(L(),B("div",ti,[P("h2",null,ne(e.$t("aurorian.aircraft_chat")),1),ni,(L(!0),B(q,null,I(o.conversation,((t,n)=>(L(),B("div",{key:"conversation_"+n},[P("h3",null,ne(e.$t("aurorian.aircraft_chat"))+" "+ne(n+1),1),P("div",ai,[(L(!0),B(q,null,I(t.data,((n,a)=>(L(),B("div",{key:"talk_"+a,style:{display:"flex",border:"1px solid",margin:"2px"}},[M(P("img",{style:{cursor:"pointer",width:"64px",height:"64px"},onClick:t=>e.$router.push("/Aurorian/"+n.speaker)},null,8,["onClick"]),[[m,"/item_icon/"+t.member[n.speaker].icon+"_scale.png"]]),P("span",oi,[P("span",ii,ne(t.member[n.speaker].name),1),ri,ae(ne(n.data),1)])])))),128))])])))),128))])):D("",!0)])])])):D("",!0)};export default fn;
