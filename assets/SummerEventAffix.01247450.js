import{o as e,c as t,a,t as l,F as s,r as o,d as r,w as n,l as i,f as d}from"./index.d550c4e9.js";import"./@pixi.ba7a7c6f.js";const m={inject:["socket"],data:()=>({affix_data:void 0,difficulty:[]}),mounted(){let e=this;const t=localStorage.getItem("game_lang");this.socket.emit("get_summer_two_affix_list",[t],(function(t){t.mission.forEach((()=>{e.difficulty.push(0)})),e.affix_data=t}))},methods:{computeAffixList(e){let t={},a=this;return this.affix_data.mission[e].condition.forEach((e=>{const l=a.affix_data.affix.find((t=>t.id==e.id));t[l.type]||(t[l.type]=[]),t[l.type].push({id:e.id,ratio:e.ratio,desc:l.desc})})),t},computeMonsterData:(e,t)=>null==e.formula?-2:3!=e.formula&&4!=e.formula?-1:3==e.formula?Math.ceil((e.b*t.y+e.c)*t.z):4==e.formula?Math.ceil((e.b*t.y2+e.c)*t.z2):0}},u=a("h3",null,"FinalScore = ROUND(BaseScore * (1 + ratio))",-1),c={key:0},f={style:{"max-width":"800px",margin:"0 auto",width:"100%"},border:"2"},p={colspan:"4"},_={style:{color:"red"}},h={colspan:"4"},y={colspan:"4"},g={colspan:"2"},b=d(" ATK: "),x={style:{color:"red"}},v=d(" DEF: "),k={style:{color:"red"}},w=d(" HP: "),D={style:{color:"red"}},$=a("br",null,null,-1),M={style:{color:"red"}},L={style:{color:"red"}},S={style:{color:"red"}},G={colspan:"4"},j={style:{margin:"0 auto",transform:"rotate(270deg)"}};m.render=function(m,A,P,C,E,F){return e(),t(s,null,[a("h1",null,l(m.$t("summer_2021.affix_title")),1),u,E.affix_data?(e(),t("div",c,[(e(!0),t(s,null,o(E.affix_data.mission,((u,c)=>(e(),t("div",{key:"summerGame_"+c,set:m.condData=F.computeAffixList(c)},[a("h2",null,l(u.title),1),a("table",f,[a("tr",null,[a("td",p,l(m.$t("summer_2021.affix_difficulty")),1)]),(e(!0),t(s,null,o(u.base,((s,o)=>(e(),t("tr",{key:"summerGameHard_"+o},[a("td",null,[n(a("input",{"onUpdate:modelValue":e=>E.difficulty[c]=e,type:"radio",value:o},null,8,["onUpdate:modelValue","value"]),[[i,E.difficulty[c]]])]),a("td",null,l(s.levelStr)+" "+l(s.levelName),1),a("td",null,[a("span",_,l(E.affix_data.fmtStr.replace("{1}",s.suggestAwake).replace("{2}",s.suggestLevel)),1)]),a("td",null,l(s.levelScore),1)])))),128)),a("tr",null,[a("td",h,l(m.$t("summer_2021.affix_condition")),1)]),(e(!0),t(s,null,o(Object.keys(m.condData),((r,n)=>(e(),t(s,{key:"summerGameCond_"+n},[(e(!0),t(s,null,o(m.condData[r],((s,o)=>(e(),t("tr",{key:"summerGameCondMore_"+o},[a("td",{colspan:"3",style:1==m.condData[r].length?"color:yellow":""},l(s.desc),5),a("td",null,l(s.ratio/10)+"%",1)])))),128))],64)))),128)),a("tr",null,[a("td",y,l(m.$t("summer_2021.fight_level")),1)]),(e(!0),t(s,null,o(u.fightLevel.monsters,((s,o)=>(e(),t("tr",{key:"summerGameLevel_"+o},[a("td",null,[a("img",{src:"/monster_icon/"+s.class.icon+"_scale.png",width:"64",height:"64"},null,8,["src"])]),a("td",null,[a("img",{src:"/element_icon/element_"+s.element+".png",width:"16",height:"16"},null,8,["src"]),d(l(s.class.name),1)]),a("td",g,[b,a("span",x,l(F.computeMonsterData(s.atk,u.base[E.difficulty[c]].hardParam)),1),v,a("span",k,l(F.computeMonsterData(s.def,u.base[E.difficulty[c]].hardParam)),1),w,a("span",D,l(F.computeMonsterData(s.hp,u.base[E.difficulty[c]].hardParam)),1),$,d(" "+l(m.$t("summer_2021.absorb_normal"))+":",1),a("span",M,l(s.anormal),1),d(" "+l(m.$t("summer_2021.absorb_chain"))+":",1),a("span",L,l(s.achain),1),d(" "+l(m.$t("summer_2021.absorb_active"))+":",1),a("span",S,l(s.aactive),1)])])))),128)),a("tr",null,[a("td",G,l(m.$t("summer_2021.map")),1)])]),a("table",j,[(e(!0),t(s,null,o(u.fightLevel.board,((a,l)=>(e(),t("tr",{key:"boardRow_"+l},[(e(!0),t(s,null,o(a,((a,l)=>(e(),t("td",{key:"boardCol_"+l},[0!=a?(e(),t("img",{key:0,src:"/element_icon/element_"+a+".png",width:"32",height:"32"},null,8,["src"])):r("",!0)])))),128))])))),128))])],8,["set"])))),128))])):r("",!0)],64)};export default m;
