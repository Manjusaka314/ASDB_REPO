import{E as t}from"./index.d91a3b3a.js";import{_ as l}from"./Category.7d14a878.js";import{p as e,i as a,o as r,c as s,a as i,t as n,F as o,r as d,E as c,b as p,d as _,h as u,f as h,g}from"./index.5ea3d074.js";import"./@pixi.ba7a7c6f.js";const x={components:{Category:l},inject:["socket"],data:()=>({dispatch_tasks:void 0,aurorian_calc_table:[]}),beforeMount(){for(let t=1;t<=5;t++)this.aurorian_calc_table.push({prof:2001,element:1,force:0,grade:0})},mounted(){const t=localStorage.getItem("game_lang");let l=this;this.socket.emit("get_all_dispatch_task",[t],(function(t){l.dispatch_tasks=t}))},methods:{format(t,l){if(null!=t){if(t=(t=t.replace(/<color=#(.*?)>(.*?)<\/color>/g,(function(t,l,e){return'<span style="color: #'+l+';">'+e+"</span>"}))).replace(/<color=(.*?)>(.*?)<\/color>/g,(function(t,l,e){return'<span style="color: #'+l+';">'+e+"</span>"})),null!=l)for(let e=1;e<=l.length;e++)t=t.replace("{"+e+"}",'<a style="color:yellow" href="Aurorian/'+l[e-1].id+'">'+l[e-1].name+"</a>");return t}},calc_ex_reward(t,l){const e=this.dispatch_tasks.star_cfg.find((l=>l.star==t.star));let a=0;for(let s of this.aurorian_calc_table)t.element==s.element&&(a+=e.ref_score),t.prof==s.prof&&(a+=e.ref_score),a+=e.grade_score[s.grade];let r=a/t.score;return r>=1&&(r=1),Math.floor(l.count*r)},dispatchCalc(){$("#dispatch_calc").hasClass("showStatus")?($("#dispatch_calc").toggleClass("showStatus"),$("#dispatch_calc").animate({right:"-100%"})):($("#dispatch_calc").toggleClass("showStatus"),$("#dispatch_calc").animate({right:"0"}))},dispatchCalcPC(){$("#dispatch_calc_pc").hasClass("showStatus")?($("#dispatch_calc_pc").toggleClass("showStatus"),$("#dispatch_calc_pc").animate({bottom:"-285"})):($("#dispatch_calc_pc").toggleClass("showStatus"),$("#dispatch_calc_pc").animate({bottom:"0"}))},fontSizeCalc(l){var e=t.Buffer.from(l).length;return e>60?48/e+"em":"0.8em"}}},m=u("data-v-410f5c03");e("data-v-410f5c03");const b={class:"nomobile"},y={class:"nodesktop",style:{"padding-top":"56px"}},f={id:"toc"},k=i("hr",null,null,-1),w=i("hr",null,null,-1),C=i("hr",null,null,-1),v=i("hr",null,null,-1),z=i("hr",null,null,-1),M={colspan:"12",style:{border:"1px solid"}},S=i("br",null,null,-1),j={style:{"text-align":"center"}},T={colspan:"4",style:{border:"1px solid"}},P={colspan:"4",style:{border:"1px solid"}},H={colspan:"4",style:{border:"1px solid"}},L={class:"nodesktop",style:{"text-align":"center",width:"100%",background:"#222",position:"fixed",top:"60px",left:"0","z-index":"99"}},E=i("br",null,null,-1),I={id:"dispatch_calc",style:{position:"fixed",top:"116px",right:"-100%",width:"100%",padding:"0 2px",background:"#222","box-sizing":"border-box"}},A={style:{width:"100%"}},B={style:{width:"100%"}},F={style:{width:"100%"}},q=i("hr",null,null,-1),D={key:1,style:{"text-align":"-webkit-center"}},G={key:0},J=c("【 "),K={key:0},N={key:1},O=c(" 】"),Q={colspan:"7",style:{width:"800px",border:"solid 1px","text-align":"left",padding:"0 5px"}},R={style:{"vertical-align":"middle"}},U={colspan:"7",style:{border:"solid 1px","text-align":"left",padding:"0 5px"}},V={class:"nomobile"},W={colspan:"7",style:{border:"solid 1px","text-align":"left",padding:"0 5px"}},X={key:0,colspan:"5",style:{border:"solid 1px"}},Y={key:1,colspan:"4",style:{border:"solid 1px"}},Z={colspan:"2",class:"nomobile",style:{border:"solid 1px"}},tt=i("hr",null,null,-1),lt=i("hr",null,null,-1),et=i("hr",null,null,-1),at=i("hr",null,null,-1),rt={key:0,style:{border:"solid 1px",width:"20%","vertical-align":"bottom"}},st=i("hr",null,null,-1),it=i("hr",null,null,-1),nt={key:0},ot={key:1},dt={rowspan:"2",class:"nomobile",style:{border:"solid 1px","vertical-align":"middle"}},ct={style:{padding:"5px"}},pt={rowspan:"2",class:"nomobile",style:{border:"solid 1px","vertical-align":"middle"}},_t={style:{padding:"5px"}},ut={key:1},ht={key:0,colspan:"5",style:{border:"solid 1px","text-align":"left",padding:"0 5px"}},gt={class:"nodesktop"},xt={key:0,rowspan:"2",colspan:"3",style:{border:"solid 1px"}},mt={key:1,rowspan:"2",colspan:"2",style:{border:"solid 1px"}},bt={colspan:"2",style:{border:"solid 1px"}},yt={class:"nodesktop"},ft={style:{border:"solid 1px"}},kt={style:{padding:"5px"}},wt={style:{border:"solid 1px"}},Ct={style:{padding:"5px"}};a();const $t=m(((t,l,e,a,u,x)=>{const $=h("Category"),$t=h("el-tab-pane"),vt=h("el-tabs"),zt=g("lazy");return r(),s(o,null,[i("h1",b,n(t.$t("main_view.dispatch_data")),1),i("h1",y,n(t.$t("main_view.dispatch_data")),1),i("div",f,[i($)]),i("h2",null,n(t.$t("dispatch.rewards")),1),k,u.dispatch_tasks?(r(),s(vt,{key:0,type:"card",class:"dispatch_head",style:{"text-align":"-webkit-center"},onTabClick:t.handleClick},{default:m((()=>[(r(!0),s(o,null,d(u.dispatch_tasks.star_reward,(t=>(r(),s($t,{key:t.star,label:"★"+t.star},{default:m((()=>[(r(!0),s(o,null,d(t.rewards,(t=>(r(),s("table",{key:t,style:{"text-align":"center","max-width":"800px"}},[(r(!0),s(o,null,d(t.base_rewards,(t=>(r(),s("td",{key:t,style:{border:"solid 1px",width:"200px","vertical-align":"bottom"}},[c(n(t.name)+" ",1),w,p(i("img",null,null,512),[[zt,"/item_icon/"+t.icon+"_scale.png"]]),C,c(" "+n(t.count),1)])))),128)),(r(!0),s(o,null,d(t.extra_rewards,(t=>(r(),s("td",{key:t,style:{border:"solid 1px",width:"200px","vertical-align":"bottom"}},[c(n(t.name)+" ",1),v,p(i("img",null,null,512),[[zt,"/item_icon/"+t.icon+"_scale.png"]]),z,c(" 0 ~ "+n(t.count),1)])))),128))])))),128))])),_:2},1032,["label"])))),128))])),_:1},8,["onTabClick"])):_("",!0),i("table",{id:"dispatch_calc_pc",class:"nomobile",style:{"text-align":"-webkit-center",background:"#222",position:"fixed",bottom:"-285px","margin-left":"auto","margin-right":"auto",left:"0",right:"0",width:"522px"},onMouseenter:l[1]||(l[1]=(...t)=>x.dispatchCalcPC&&x.dispatchCalcPC(...t)),onMouseleave:l[2]||(l[2]=(...t)=>x.dispatchCalcPC&&x.dispatchCalcPC(...t))},[i("th",M,[c(n(t.$t("dispatch.calculator")),1),S,i("span",{style:"font-weight: normal; font-size:"+x.fontSizeCalc(t.$t("dispatch.calculator_tips"))},"※ "+n(t.$t("dispatch.calculator_tips")),5)]),i("tr",j,[i("td",T,n(t.$t("aurorian.prof")),1),i("td",P,n(t.$t("aurorian.element")),1),i("td",H,n(t.$t("aurorian.ascension")),1)]),(r(),s(o,null,d(5,(t=>i("tr",{key:"calc_"+t,style:{"font-size":"12px","white-space":"nowrap"}},[(r(),s(o,null,d([2001,2002,2003,2004],(l=>i("td",{key:"prof_"+l,style:"border: 1px solid; padding: 4px;"+(u.aurorian_calc_table[t-1].prof==l?"background: #fff":"cursor: pointer;"),onClick:e=>u.aurorian_calc_table[t-1].prof=l},[p(i("img",{style:"vertical-align: middle; width: 30px;"+(u.aurorian_calc_table[t-1].prof==l?"filter: drop-shadow(0px 0px 5px #000);":"cursor: pointer;")},null,4),[[zt,"/spine_view/prof_"+l+".png"]])],12,["onClick"]))),64)),(r(),s(o,null,d([1,2,3,4],(l=>i("td",{key:"element_"+l,style:"border: 1px solid; padding: 4px;"+(u.aurorian_calc_table[t-1].element==l?"background: #fff":"cursor: pointer;"),onClick:e=>u.aurorian_calc_table[t-1].element=l},[p(i("img",{style:"vertical-align: middle; width: 30px;"+(u.aurorian_calc_table[t-1].element==l?"filter: drop-shadow(0px 0px 5px #000);":"cursor: pointer;")},null,4),[[zt,"/element_icon/element_"+l+".png"]])],12,["onClick"]))),64)),(r(),s(o,null,d([0,1,2,3],(l=>i("td",{key:"grade_"+l,class:"grade",style:"border: 1px solid; max-width: 40px; max-height: 40px; overflow: hidden; display: inline-block;"+(u.aurorian_calc_table[t-1].grade==l?"background: #fff;":"cursor: pointer;"),onClick:e=>u.aurorian_calc_table[t-1].grade=l},[p(i("img",{style:"width: 60px; margin-left: -10px; margin-top: -5px;"+(u.aurorian_calc_table[t-1].grade==l?"":"cursor: pointer;")},null,4),[[zt,"/spine_view/spirit_juexing3_big"+l+".png"]])],12,["onClick"]))),64))]))),64))],32),i("table",L,[i("th",{style:{border:"1px solid"},onClick:l[3]||(l[3]=(...t)=>x.dispatchCalc&&x.dispatchCalc(...t))},[c(n(t.$t("dispatch.calculator")),1),E,i("span",{style:"font-weight: normal; font-size:"+x.fontSizeCalc(t.$t("dispatch.calculator_tips"))},"※ "+n(t.$t("dispatch.calculator_tips")),5)]),i("tr",I,[i(vt,{class:"dispatch_calc",type:"card"},{default:m((()=>[i($t,null,{label:m((()=>[c(n(t.$t("aurorian.prof")),1)])),default:m((()=>[i("table",A,[(r(),s(o,null,d(5,(t=>i("tr",{key:"calc_"+t,style:{"font-size":"12px"}},[(r(),s(o,null,d([2001,2002,2003,2004],(l=>i("td",{key:"prof_"+l,style:"border: 1px solid; padding: 10px 4px;"+(u.aurorian_calc_table[t-1].prof==l?"background: #fff":"cursor: pointer;"),onClick:e=>u.aurorian_calc_table[t-1].prof=l},[p(i("img",{style:"vertical-align: middle; width: 40px;"+(u.aurorian_calc_table[t-1].prof==l?"filter: drop-shadow(0px 0px 5px #000);":"cursor: pointer;")},null,4),[[zt,"/spine_view/prof_"+l+".png"]])],12,["onClick"]))),64))]))),64))])])),_:1}),i($t,null,{label:m((()=>[c(n(t.$t("aurorian.element")),1)])),default:m((()=>[i("table",B,[(r(),s(o,null,d(5,(t=>i("tr",{key:"calc_"+t,style:{"font-size":"12px"}},[(r(),s(o,null,d([1,2,3,4],(l=>i("td",{key:"element_"+l,style:"border: 1px solid; padding: 10px 4px;"+(u.aurorian_calc_table[t-1].element==l?"background: #fff":"cursor: pointer;"),onClick:e=>u.aurorian_calc_table[t-1].element=l},[p(i("img",{style:"vertical-align: middle; width: 40px;"+(u.aurorian_calc_table[t-1].element==l?"filter: drop-shadow(0px 0px 5px #000);":"cursor: pointer;")},null,4),[[zt,"/element_icon/element_"+l+".png"]])],12,["onClick"]))),64))]))),64))])])),_:1}),i($t,null,{label:m((()=>[c(n(t.$t("aurorian.ascension")),1)])),default:m((()=>[i("table",F,[(r(),s(o,null,d(5,(t=>i("tr",{key:"calc_"+t,style:{"font-size":"12px"}},[(r(),s(o,null,d([0,1,2,3],(l=>i("td",{key:"grade_"+l,class:"grade",style:"border: 1px solid; max-height: 62px; display: inline-block; overflow: hidden; padding: 0; box-sizing: border-box;"+(u.aurorian_calc_table[t-1].grade==l?"background: #fff;":"cursor: pointer;"),onClick:e=>u.aurorian_calc_table[t-1].grade=l},[p(i("img",{style:"width: 85px; margin-top: -4px; "+(u.aurorian_calc_table[t-1].grade==l?"":"cursor: pointer;")},null,4),[[zt,"/spine_view/spirit_juexing3_big"+l+".png"]])],12,["onClick"]))),64))]))),64))])])),_:1})])),_:1})])]),i("h2",null,n(t.$t("dispatch.tasks")),1),q,i("small",null,"※ "+n(t.$t("dispatch.tips")),1),u.dispatch_tasks?(r(),s("div",D,[(r(!0),s(o,null,d(u.dispatch_tasks.tasks,(l=>(r(),s("table",{key:l,style:{"max-width":"800px","text-align":"center"}},[i("caption",null,[i("h3",null,[c(" ★ "+n(l.star)+" "+n(l.name)+" ",1),0!=l.extra_rewards?(r(),s("span",G,[J,2==l.extra_rewards[0].type?(r(),s("span",K,n(t.$t("dispatch.book")),1)):_("",!0),3==l.extra_rewards[0].type?(r(),s("span",N,n(t.$t("dispatch.funiture")),1)):_("",!0),O])):_("",!0)])]),i("th",Q,[i("span",R,n(l.name),1),(r(!0),s(o,null,d(l.star,(t=>p((r(),s("img",{key:"furn_star_"+t,style:{width:"32px","margin-left":"-12px","vertical-align":"middle",float:"right"}},null,512)),[[zt,"/comm_icon/dispatch_star.png"]]))),128))]),i("tr",null,[i("td",U,n(l.desc),1)]),i("tr",V,[i("td",W,n(t.$t("dispatch.task_time_long"))+n(l.time/3600)+" "+n(t.$t("dispatch.hour")),1)]),i("tr",null,[0!=l.extra_rewards?(r(),s("td",X,n(t.$t("dispatch.dispatch_reward_title")),1)):(r(),s("td",Y,n(t.$t("dispatch.dispatch_reward_title")),1)),i("td",Z,n(t.$t("dispatch.suggest_pet_title")),1)]),u.dispatch_tasks.star_reward[l.star-3]?(r(),s("tr",{key:0,set:t.rewards=u.dispatch_tasks.star_reward[l.star-3].rewards[Math.floor(12*Math.random())]},[(r(!0),s(o,null,d(t.rewards.base_rewards,(t=>(r(),s("td",{key:t,style:{border:"solid 1px",width:"20%","vertical-align":"bottom"}},[c(n(t.name)+" ",1),tt,p(i("img",null,null,512),[[zt,"/item_icon/"+t.icon+"_scale.png"]]),lt,c(" "+n(t.count),1)])))),128)),(r(!0),s(o,null,d(t.rewards.extra_rewards,(t=>(r(),s("td",{key:t,style:{border:"solid 1px",width:"20%","vertical-align":"bottom"}},[c(n(t.name)+" ",1),et,p(i("img",null,null,512),[[zt,"/item_icon/"+t.icon+"_scale.png"]]),at,c(" "+n(x.calc_ex_reward(l,t))+" / "+n(t.count),1)])))),128)),0!=l.extra_rewards?(r(),s("td",rt,[c(n(l.extra_rewards[0].item_name)+" ",1),st,p(i("img",null,null,512),[[zt,"/item_icon/"+l.extra_rewards[0].item_icon+"_scale.png"]]),it,2==l.extra_rewards[0].type?(r(),s("span",nt,n(t.$t("dispatch.book")),1)):_("",!0),3==l.extra_rewards[0].type?(r(),s("span",ot,n(t.$t("dispatch.funiture")),1)):_("",!0)])):_("",!0),i("td",dt,[p(i("img",ct,null,512),[[zt,"/spine_view/prof_"+l.prof+".png"]])]),i("td",pt,[p(i("img",_t,null,512),[[zt,"/element_icon/element_"+l.element+".png"]])])],8,["set"])):_("",!0),l.award_desc?(r(),s("tr",ut,[l.extra_rewards?(r(),s("td",ht,[l.extra_rewards[0].pet_list?(r(),s("span",{key:0,innerHTML:x.format(l.award_desc,l.extra_rewards[0].pet_list)},null,8,["innerHTML"])):(r(),s("span",{key:1,innerHTML:x.format(l.award_desc)},null,8,["innerHTML"]))])):_("",!0)])):_("",!0),i("tr",gt,[0!=l.extra_rewards?(r(),s("td",xt,n(t.$t("dispatch.task_time_long"))+n(l.time/3600)+" "+n(t.$t("dispatch.hour")),1)):(r(),s("td",mt,n(t.$t("dispatch.task_time_long"))+n(l.time/3600)+" "+n(t.$t("dispatch.hour")),1)),i("td",bt,n(t.$t("dispatch.suggest_pet_title")),1)]),i("tr",yt,[i("td",ft,[p(i("img",kt,null,512),[[zt,"/spine_view/prof_"+l.prof+".png"]])]),i("td",wt,[p(i("img",Ct,null,512),[[zt,"/element_icon/element_"+l.element+".png"]])])])])))),128))])):_("",!0)],64)}));x.render=$t,x.__scopeId="data-v-410f5c03";export default x;
