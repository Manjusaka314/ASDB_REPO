import{o as e,c as t,a,t as l,F as o,r as s,b as n,H as i,E as r,d,g as m}from"./index.c0e2940b.js";import"./@pixi.ba7a7c6f.js";const u={inject:["socket"],data:()=>({affix_data:void 0,difficulty:[]}),mounted(){let e=this;const t=localStorage.getItem("game_lang");this.socket.emit("get_summer_two_affix_list",[t],(function(t){t.mission.forEach((()=>{e.difficulty.push(0)})),e.affix_data=t}))},methods:{computeAffixList(e){let t={},a=this;return this.affix_data.mission[e].condition.forEach((e=>{const l=a.affix_data.affix.find((t=>t.id==e.id));t[l.type]||(t[l.type]=[]),t[l.type].push({id:e.id,ratio:e.ratio,desc:l.desc})})),t},computeMonsterData:(e,t)=>null==e.formula?-2:3!=e.formula&&4!=e.formula?-1:3==e.formula?Math.ceil((e.b*t.y+e.c)*t.z):4==e.formula?Math.ceil((e.b*t.y2+e.c)*t.z2):0}},c=a("h3",null,"FinalScore = ROUND(BaseScore * (1 + ratio))",-1),f={key:0},p={style:{"max-width":"800px",margin:"0 auto",width:"100%"},border:"2"},_={colspan:"4"},y={style:{color:"red"}},h={colspan:"4"},g={colspan:"4"},b={width:"64",height:"64"},x={width:"16",height:"16"},v={colspan:"2"},k=r(" ATK: "),D={style:{color:"red"}},w=r(" DEF: "),$={style:{color:"red"}},M=r(" HP: "),L={style:{color:"red"}},S=a("br",null,null,-1),G={style:{color:"red"}},j={style:{color:"red"}},A={style:{color:"red"}},E={colspan:"4"},P={style:{margin:"0 auto",transform:"rotate(270deg)"}},z={key:0,width:"32",height:"32"};u.render=function(u,C,F,H,U,N){const O=m("lazy");return e(),t(o,null,[a("h1",null,l(u.$t("summer_2021.affix_title")),1),c,U.affix_data?(e(),t("div",f,[(e(!0),t(o,null,s(U.affix_data.mission,((m,c)=>(e(),t("div",{key:"summerGame_"+c,set:u.condData=N.computeAffixList(c)},[a("h2",null,l(m.title),1),a("table",p,[a("tr",null,[a("td",_,l(u.$t("summer_2021.affix_difficulty")),1)]),(e(!0),t(o,null,s(m.base,((o,s)=>(e(),t("tr",{key:"summerGameHard_"+s},[a("td",null,[n(a("input",{"onUpdate:modelValue":e=>U.difficulty[c]=e,type:"radio",value:s},null,8,["onUpdate:modelValue","value"]),[[i,U.difficulty[c]]])]),a("td",null,l(o.levelStr)+" "+l(o.levelName),1),a("td",null,[a("span",y,l(U.affix_data.fmtStr.replace("{1}",o.suggestAwake).replace("{2}",o.suggestLevel)),1)]),a("td",null,l(o.levelScore),1)])))),128)),a("tr",null,[a("td",h,l(u.$t("summer_2021.affix_condition")),1)]),(e(!0),t(o,null,s(Object.keys(u.condData),((n,i)=>(e(),t(o,{key:"summerGameCond_"+i},[(e(!0),t(o,null,s(u.condData[n],((o,s)=>(e(),t("tr",{key:"summerGameCondMore_"+s},[a("td",{colspan:"3",style:1==u.condData[n].length?"color:yellow":""},l(o.desc),5),a("td",null,l(o.ratio/10)+"%",1)])))),128))],64)))),128)),a("tr",null,[a("td",g,l(u.$t("summer_2021.fight_level")),1)]),(e(!0),t(o,null,s(m.fightLevel.monsters,((o,s)=>(e(),t("tr",{key:"summerGameLevel_"+s},[a("td",null,[n(a("img",b,null,512),[[O,"/monster_icon/"+o.class.icon+"_scale.png"]])]),a("td",null,[n(a("img",x,null,512),[[O,"/element_icon/element_"+o.element+".png"]]),r(l(o.class.name),1)]),a("td",v,[k,a("span",D,l(N.computeMonsterData(o.atk,m.base[U.difficulty[c]].hardParam)),1),w,a("span",$,l(N.computeMonsterData(o.def,m.base[U.difficulty[c]].hardParam)),1),M,a("span",L,l(N.computeMonsterData(o.hp,m.base[U.difficulty[c]].hardParam)),1),S,r(" "+l(u.$t("summer_2021.absorb_normal"))+":",1),a("span",G,l(o.anormal),1),r(" "+l(u.$t("summer_2021.absorb_chain"))+":",1),a("span",j,l(o.achain),1),r(" "+l(u.$t("summer_2021.absorb_active"))+":",1),a("span",A,l(o.aactive),1)])])))),128)),a("tr",null,[a("td",E,l(u.$t("summer_2021.map")),1)])]),a("table",P,[(e(!0),t(o,null,s(m.fightLevel.board,((a,l)=>(e(),t("tr",{key:"boardRow_"+l},[(e(!0),t(o,null,s(a,((a,l)=>(e(),t("td",{key:"boardCol_"+l},[0!=a?n((e(),t("img",z,null,512)),[[O,"/element_icon/element_"+a+".png"]]):d("",!0)])))),128))])))),128))])],8,["set"])))),128))])):d("",!0)],64)};export default u;
